openapi: 3.0.2
info:
  title: Camino API
  version: '1.13'
  contact:
    name: Бабинцев Юрий
    email: biyunell@gmail.com
  description: API documentation for Camino project
servers:
  - url: http://localhost/camino-restapi/web
    description: Dev server
security:
  - cookie-jwt: []
tags:
  - name: Аутентификация
    description: API для аутентификации и авторизации
  - name: Проекты
    description: API для работы с проектами
  - name: Проект / Пользователи
    description: API для работы с пользователями проекта
  - name: Проект / Датасеты
    description: API для работы с датасетами проекта
  - name: Проект / Датасет / Файлы
    description: API для работы с файлами датасета проекта
  - name: Проект / Датасет / Цепочки примитивов
    description: API для работы с цепочками примитивов
  - name: Проект / Датасет / Примитивы
    description: API для работы с примитивами
  - name: Проект / Датасет / ИНС
    description: API для работы с ИНС датасета проекта
  - name: ИНС
    description: API для работы с ИНС
  - name: Пользователи
    description: API для работы с пользователями
  - name: Docker
    description: API для Docker
  - name: Docker-реестр
    description: API для Docker-реестра
  - name: Docker-образы
    description: API для работы Docker-образами
  - name: Docker-контейнеры
    description: API для работы с Docker-контейнерами
  - name: События в Docker-контейнере
    description: API для работы с событиями в Docker-контейнере
  - name: Уведомления о событиях
    description: API для работы с уведомлениями о событиях
paths:
  /login:
    get:
      summary: Получение формы входа в систему (опционально)
      description: НЕ ИСПОЛЬЗУЕТСЯ
      operationId: getloginUserForm
      tags:
        - Аутентификация
      security: []
      responses:
        '200':
          $ref: '#/components/responses/LoginUserForm'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Аутентификация пользователя
      description: >-
        Идентифицирует и аутентифицирует пользователя в системе и возвращает
        уникальный JWT-токен
      operationId: loginUser
      tags:
        - Аутентификация
      security: []
      parameters:
        - $ref: '#/components/parameters/_csrf'
      requestBody:
        $ref: '#/components/requestBodies/LoginParams'
      responses:
        '200':
          $ref: '#/components/responses/JWT'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /logout:
    post:
      summary: Выход пользователя из системы
      description: >-
        Завершает пользовательскую сессию и удаляет JWT-токен пользователя,
        возвращает результат операции
      operationId: logoutUser
      tags:
        - Аутентификация
      parameters:
        - $ref: '#/components/parameters/_csrf'
      responses:
        '200':
          description: Успешный выход из системы
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /user/profile:
    get:
      summary: Получение информации о профиле текущего пользователя
      description: >-
        Возвращает данные профиля текущего пользователя из таблицы users и
        roles_capabilities
      operationId: getUserProfile
      tags:
        - Аутентификация
      responses:
        '200':
          $ref: '#/components/responses/User'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /user/capabilities:
    get:
      summary: Получение информации о правах текущего пользователя
      description: >-
        Возвращает список прав текущего пользователя из таблицы
        roles_capabilities
      operationId: getUserCapabilities
      tags:
        - Аутентификация
      responses:
        '200':
          $ref: '#/components/responses/UserCapabilities'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /users:
    get:
      summary: Получение списка пользователей
      description: >-
        Возвращает список записей пользователей системы из таблицы users в
        соответствии с установленными в запросе параметрами фильтрации,
        сортировки и пагинации
      operationId: getUsers
      tags:
        - Пользователи
      parameters:
        - $ref: '#/components/parameters/usersFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Users'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /users/create:
    get:
      summary: Получение записи пользователя по умолчанию
      description: Возвращает запись пользователя с полями, заполненным по умолчанию
      operationId: getCreateUserData
      tags:
        - Пользователи
      responses:
        '200':
          $ref: '#/components/responses/UserParams'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Создание пользователя
      description: Создает запись о новом пользователе в таблице users и возвращает ее
      operationId: createUser
      tags:
        - Пользователи
      parameters:
        - $ref: '#/components/parameters/_csrf'
      requestBody:
        $ref: '#/components/requestBodies/UserParams'
      responses:
        '200':
          $ref: '#/components/responses/User'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /users/{userId}:
    get:
      summary: Получение информации пользователя
      description: >-
        Возвращает запись о пользователе системы из таблицы users, включая
        информацию о его правах из таблицы roles_capabilities. Если пользователь
        удален, возвращает ошибку 400
      operationId: getUser
      tags:
        - Пользователи
      parameters:
        - $ref: '#/components/parameters/userId'
      responses:
        '200':
          $ref: '#/components/responses/User'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации пользователя
      description: >-
        Обновляет запись о пользователе в таблице users и возвращает ее. Если
        пользователь удален, возвращает ошибку 400
      operationId: updateUser
      tags:
        - Пользователи
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/userId'
      requestBody:
        $ref: '#/components/requestBodies/UserParams'
      responses:
        '200':
          $ref: '#/components/responses/User'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление пользователя
      description: >-
        Помечает запись о пользователе в таблице users как удаленная, возвращает
        результат операции удаления. Если пользователь был ранее удален,
        возвращает ошибку 400
      operationId: deleteUser
      tags:
        - Пользователи
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/userId'
      responses:
        '200':
          description: Успешное удаление пользователя
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects:
    get:
      summary: Получение списка проектов
      description: >-
        Возвращает список записей проектов из таблицы projects в соответствии с
        установленными в запросе параметрами фильтрации, сортировки и пагинации
      operationId: getProjects
      tags:
        - Проекты
      parameters:
        - $ref: '#/components/parameters/projectsFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Projects'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/create:
    get:
      summary: Получение формы создания проекта (опционально)
      description: НЕ ИСПОЛЬЗУЕТСЯ
      operationId: getCreateProjectForm
      tags:
        - Проекты
      responses:
        '200':
          $ref: '#/components/responses/CreateProjectForm'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Создание проекта
      description: Создает запись о проекте в таблице projects и возвращает ее
      operationId: createProject
      tags:
        - Проекты
      parameters:
        - $ref: '#/components/parameters/_csrf'
      requestBody:
        $ref: '#/components/requestBodies/ProjectParams'
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}:
    get:
      summary: Получение информации о проекте
      description: >-
        Возвращает запись о проекте из таблицы projects. Если проект удален,
        возвращает ошибку 400
      operationId: getProject
      tags:
        - Проекты
      parameters:
        - $ref: '#/components/parameters/projectId'
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации проекта
      description: >-
        Обновляет запись о проекте в таблице projects и возвращает ее. Если
        проект удален, возвращает ошибку 400
      operationId: updateProject
      tags:
        - Проекты
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
      requestBody:
        $ref: '#/components/requestBodies/ProjectParams'
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление проекта
      description: >-
        Помечает запись о проекте в таблице projects как удаленная, возвращает
        результат операции удаления. Если проект был ранее удален, возвращает
        ошибку 400
      operationId: deleteProject
      tags:
        - Проекты
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
      responses:
        '200':
          description: Успешное удаление проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/users:
    get:
      summary: Получение списка пользователей проекта
      description: >-
        Возвращает список записей пользователей из таблицы users, прикрепленных
        к проекту в таблице project_users, в соответствии с установленными в
        запросе параметрами фильтрации. Если проект удален, возвращает ошибку
        400
      operationId: getProjectUsers
      tags:
        - Проект / Пользователи
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/usersFilter'
      responses:
        '200':
          $ref: '#/components/responses/Users'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Пакетное прикрепление пользователей к проекту
      description: >-
        Прикрепляет пользователей к проекту в таблице project_users согласно
        перечню их ID. Возвращает результат прикрепления
      operationId: attachUsersToProject
      tags:
        - Проект / Пользователи
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
      requestBody:
        $ref: '#/components/requestBodies/UserIds'
      responses:
        '200':
          description: Успешное прикрепление пользователей к проекту
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/users/delete:
    put:
      summary: Пакетное открепление пользователей от проекта
      description: >-
        Открепляет пользователей от проекта в таблице project_users согласно
        перечню их ID. Возвращает результат открепления
      operationId: dettachUsersFromProject
      tags:
        - Проект / Пользователи
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
      requestBody:
        $ref: '#/components/requestBodies/UserIds'
      responses:
        '200':
          description: Успешное открепление пользователей от проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/users/{userId}:
    post:
      summary: Прикрепление пользователя к проекту
      description: >-
        Прикрепляет пользователя к проекту в таблице project_users. Возвращает
        результат прикрепления
      operationId: attachUserToProject
      tags:
        - Проект / Пользователи
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/userId'
      responses:
        '200':
          description: Успешное прикрепление пользователя к проекту
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Открепление пользователя от проекта
      description: >-
        Открепление пользователя от проекта в таблице project_users. Возвращает
        результат открепления
      operationId: detachUserFromProject
      tags:
        - Проект / Пользователи
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/userId'
      responses:
        '200':
          description: Успешное открепление пользователя от проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets:
    get:
      summary: Получение списка датасетов проекта
      description: >-
        Возвращает список записей датасетов проекта из таблицы datasets, в
        соответствии с установленными в запросе параметрами фильтрации и отбора.
        Если проект удален, возвращает ошибку 400
      operationId: getProjectDatasets
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetsFilter'
        - $ref: '#/components/parameters/_rootId'
        - $ref: '#/components/parameters/_levels'
      responses:
        '200':
          $ref: '#/components/responses/Datasets'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/create:
    get:
      summary: Получение формы создания датасета (опционально)
      description: НЕ ИСПОЛЬЗУЕТСЯ
      operationId: getCreateDatasetForm
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/projectId'
      responses:
        '200':
          $ref: '#/components/responses/CreateDatasetForm'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Создание датасета проекта
      description: >2-
         Создает запись о датасете проекта в таблице datasets и возвращает ее.


        Если датасет - исходный (```type_id == initial```), то свойства
        ```parent_id``` и ```nn_original``` не используются.  Если указано
        свойство ```source```, то по этому пути производится поиск файлов, 
        извлекаются их свойства (если видео, включая длительность, битрейт,
        preview и пр.) и создаются записи о файлах с привязкой к текущему
        датасету.



        Если датасет - не исходный (```type_id != initial```), то свойства
        ```parent_id``` и ```nn_original``` обязательны.  Свойство ```source```
        - не используется  
      operationId: createProjectDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetParams'
      responses:
        '200':
          $ref: '#/components/responses/Dataset'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}:
    get:
      summary: Получение информации о датасете проекта
      description: >-
        Возвращает запись о датасете проекта из таблицы datasets. Если проект
        или датасет удален, возвращает ошибку 400
      operationId: getProjectDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/Dataset'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации датасета проекта
      description: >-
        Обновляет запись о датасете проекта в таблице datasets и возвращает ее.
        Если проект или датасет удален, возвращает ошибку 400. Также см.
        примечания к созданию датасета
      operationId: updateProjectDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetParams'
      responses:
        '200':
          $ref: '#/components/responses/Dataset'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление датасета проекта
      description: >-
        Помечает запись о датасете проекта в таблице datasets как удаленная,
        возвращает результат операции удаления. Если проект или датасет был
        ранее удален, возвращает ошибку 400
      operationId: deleteProjectDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешное удаление датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/parents:
    get:
      summary: Получение информации о родительских датасетах датасета проекта
      description: >-
        Возвращает список родительских датасетов датасета проекта из таблицы
        datasets (на основе атрибута `parent_id`). Если проект или датасет
        удален, возвращает ошибку 400
      operationId: getProjectDatasetParents
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetsNoPagination'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/download:
    get:
      summary: Скачивание датасета (архива разметки)
      description: >-
        Возвращает архив разметки датасета для скачивания. Т.е. данный route -
        это ссылка на архив в хранилище
      operationId: downloadDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/TarDownload'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/export:
    post:
      summary: ASYNC Выгрузка датасета в JSON файлы
      description: >-
        Запускает процесс формирования JSON файлов разметки датасета и
        возвращает признак успешного начала операции. По окончании операции
        вызывается соотв. роут ```/export/on_save```
      operationId: exportDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetExportParams'
      responses:
        '200':
          description: Успешное начало создания JSON файлов
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/on_export:
    post:
      summary: CALLBACK Событие окончания выгрузки датасета в JSON файлы
      description: >-
        Вызывается после успешного окончания операции выгрузки датасета или в
        случае ошибки выгрузки
      operationId: onExportDatasetReady
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetExportFiles'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/export/on_error:
    post:
      summary: DEPRECATED Событие ошибки выгрузки датасета в JSON файлы
      description: Вызывается в случае ошибки операции выгрузки датасета
      operationId: onExportDatasetError
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/ErrorEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/import:
    post:
      summary: ASYNC Загрузка датасета из JSON файлов
      description: >-
        Запускает процесс импорта JSON файлов разметки в датасет и возвращает
        признак успешного начала операции. Из файлов последовательно заполняются
        таблицы `chains`, `markups`, `markups_chains`. По окончании операции
        вызывается соотв. роут ```/import/on_save```
      operationId: importDataset
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetImportParams'
      responses:
        '200':
          description: Успешное начало импорта JSON файлов
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/on_import:
    post:
      summary: CALLBACK Событие окончания загрузки датасета из JSON файлов
      description: >-
        Вызывается после успешного окончания операции загрузки датасета или в
        случае ошибки загрузки
      operationId: onImportDatasetReady
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetImportFiles'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/import/on_error:
    post:
      summary: DEPRECATED Событие ошибки загрузки датасета из JSON файлов
      description: Вызывается в случае ошибки операции загрузки датасета
      operationId: onImportDatasetError
      tags:
        - Проект / Датасеты
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/ErrorEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/files:
    get:
      summary: Получение списка файлов датасета проекта
      description: >-
        Возвращает список записей файлов датасета проекта из таблицы files, в
        соответствии с установленными в запросе параметрами фильтрации,
        сортировки и пагинации. Если проект или датасет удален, возвращает
        ошибку 400
      operationId: listProjectDatasetFiles
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/datasetFilesFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/DatasetFiles'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: ASYNC Загрузка файлов датасета проекта
      description: >-
        Загружает указанные файлы в хранилище, извлекает их свойства (для видео
        и изображений, включая preview) и создает записи о файлах в таблице
        files с привязкой к текущему датасету. Возвращает результат операции.
        Если проект или датасет удален, возвращает ошибку 400
      operationId: uploadProjectDatasetFiles
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetFilesUpload'
      responses:
        '200':
          description: Успешная загрузка данных датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/files/{fileId}:
    get:
      summary: Получение информации о файле датасета проекта
      description: >-
        Возвращает запись о файле датасета проекта из таблицы files. Если
        проект, датасет или запись о файле удалены, возвращает ошибку 400
      operationId: getProjectDatasetFile
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetFile'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации файла датасета проекта
      description: >-
        Обновляет запись о файле датасета проекта в таблице files и возвращает
        ее. Если проект, датасет или запись о файле удалены, возвращает ошибку
        400
      operationId: updateProjectDatasetFile
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/fileId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetFileParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetFile'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление файла датасета проекта
      description: >-
        Помечает запись о файле датасета проекта в таблице files как удаленная,
        возвращает результат операции удаления. Если проект, датасет или запись
        о файле были ранее удалены, возвращает ошибку 400
      operationId: deleteProjectDatasetFile
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Успешное удаление файла датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/files/{fileId}/stream:
    get:
      summary: Получение видеофайла записи файла датасета проекта
      description: >-
        Возвращает видеофайл, соответствующий записи о файле в таблице files,
        для воспроизведения. Т.е. данный route - это ссылка на видеофайл в
        хранилище
      operationId: getProjectDatasetFileStream
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetFileStream'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/files/{fileId}/info:
    get:
      summary: Получение информации о видеофайле
      description: Возвращает информацию о видеофайле в формате JSON
      operationId: getProjectDatasetFileInfo
      tags:
        - Проект / Датасет / Файлы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetFileInfo'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains:
    get:
      summary: Получение списка цепочек примитивов датасета проекта
      description: >-
        Возвращает список цепочек примитивов (без собственно примитивов)
        датасета проекта из таблицы chains, в соответствии с установленными в
        запросе параметрами фильтрации. Если проект или датасет удален,
        возвращает ошибку 400
      operationId: listProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/datasetChainsFilter'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChains'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/create:
    post:
      summary: Создание цепочки примитивов датасета проекта
      description: >-
        Создает запись о цепочке примитивов датасете проекта в таблице chains и
        возвращает ее.
      operationId: createProjectDatasetChain
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChain'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/{chainId}:
    get:
      summary: Получение информации о цепочке примитивов датасета проекта
      description: >-
        Возвращает запись о цепочке примитивов (без собственно примитивов)
        датасета проекта из таблицы chains. Если проект, датасет или цепочка
        удалены, возвращает ошибку 400
      operationId: getProjectDatasetChain
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChain'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации цепочки примитивов датасета проекта
      description: >-
        Обновляет запись о цепочке примитивов датасета проекта в таблице chains
        и возвращает ее. Если проект, датасет или цепочка удалены, возвращает
        ошибку 400
      operationId: updateProjectDatasetChain
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChain'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление цепочки примитивов датасета проекта
      description: >-
        Помечает запись о цепочке примитивов датасета проекта в таблице chains
        как удаленная, возвращает результат операции удаления. Если проект,
        датасет или цепочка были ранее удалены, возвращает ошибку 400
      operationId: deleteProjectDatasetChain
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      responses:
        '200':
          description: Успешное удаление цепочки примитивов датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/{chainId}/markups:
    get:
      summary: Получение списка примитивов цепочки датасета проекта
      description: >-
        Возвращает список примитивов цепочки датасета проекта из таблицы markups
        (через таблицу markups_chans), в соответствии с установленными в запросе
        параметрами фильтрации. Если проект, датасет или цепочка удалены,
        возвращает ошибку 400
      operationId: getProjectDatasetChainMarkups
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
        - $ref: '#/components/parameters/markupsFilter'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkupsRefs'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации списка примитивов цепочки датасета проекта
      description: >2-
         Создает или обновляет записи о примитивах цепочки датасета проекта в таблицах markups и markups_chains и возвращает их. Если проект, датасет или цепочка удалены, возвращает ошибку 400. 


        Примитив представляет собой описание прямоугольного фрейма (RECT) или
        произвольного графа (GRAPH).



        Набор примитивов передается в формате json-encoded строки, в формате
        ```{<период> - {<момент> - {<примитив>}, ...}, ...}```. Формат очистки
        интервала ```{<период> - {}, ...}``` 
      operationId: updateProjectDatasetChainMarkups
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainUpdateParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkupsRefs'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/query:
    post:
      summary: ASYNC Получение списка цепочек, удовлетворяющих запросу на релевантность
      description: >-
        Выполняет запрос на поиск релевантных цепочек. По окончании вызывает
        соотв. роут ```/CHAINS/ON_QUERY```
      operationId: queryProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainsRelevanceQuery'
      responses:
        '200':
          description: Успешное начало поиска
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/on_query:
    post:
      summary: CALLBACK Событие окончания кластеризации
      description: >-
        Возвращает ранжированный список цепочек датасетов проекта из таблицы
        chains, релевантных поисковому образцу и, при необходимости, найденных
        среди цепочек только указанных файлов датасета
      operationId: onQueryProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetRelevantChains'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/{chainId}/split:
    post:
      summary: Разделение цепочки примитивов датасета проекта
      description: >-
        Разделяет цепочку примитивов на две цепочки, т.е. создает новую запись о
        цепочке в таблице chains, прикрепляет к ней часть примитивов исходной
        цепочки в таблице chains_markups и возвращает новую цепочку
      operationId: splitProjectDatasetChain
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainSplitParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChain'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/join:
    post:
      summary: Связывание цепочек примитивов датасета проекта
      description: >-
        Связывает несколько цепочек примитивов в одну цепочку, т.е. создает
        новую запись о цепочке в таблице chains, прикрепляет к ней примитивы
        всех исходных цепочек в таблице chains_markups и возвращает новую
        цепочку
      operationId: joinProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainsJoinParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChain'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/{chainId}/thumbnail:
    get:
      summary: Получение иконки цепочки
      description: >-
        Возвращает файл изображения цепочки для вывода на карте кластеров. Если
        проект, датасет или цепочка удалены, возвращает ошибку 400
      operationId: getProjectDatasetChainThumbnail
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/chainId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetChainThumbnail'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/verify:
    put:
      summary: Верифицирование цепочек примитивов датасета проекта
      description: >-
        Верифицирует несколько цепочек примитивов, т.е. устанавливает флаг
        цепочек is_verified = true
      operationId: verifyProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainIds'
      responses:
        '200':
          description: Успешная верификация цепочек примитивов датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/chains/unverify:
    put:
      summary: Отмена верифицирования цепочек примитивов датасета проекта
      description: >-
        Отменяет верификацию нескольких цепочек примитивов, т.е. устанавливает
        флаг цепочек is_verified = false
      operationId: unverifyProjectDatasetChains
      tags:
        - Проект / Датасет / Цепочки примитивов
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetChainIds'
      responses:
        '200':
          description: Успешная отмена верификации цепочек примитивов датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/markups/create:
    post:
      summary: Создание примитива датасета проекта
      description: >-
        Создает запись о примитиве датасета проекта в таблице markups и
        возвращает ее
      operationId: createProjectDatasetMarkup
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetMarkupParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkup'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/markups/{markupId}:
    get:
      summary: Получение информации о примитиве датасета проекта
      description: Возвращает запись о примитиве датасета проекта из таблицы markups
      operationId: getProjectDatasetMarkup
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkup'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации примитива датасета проекта
      description: >-
        Обновляет запись о примитиве датасета проекта в таблице markups и
        возвращает ее
      operationId: updateProjectDatasetMarkup
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      requestBody:
        $ref: '#/components/requestBodies/DatasetMarkupParams'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkup'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление примитива датасета проекта
      description: >-
        Помечает запись о примитиве датасета проекта в таблице markups как
        удаленная, возвращает результат операции удаления
      operationId: deleteProjectDatasetMarkup
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      responses:
        '200':
          description: Успешное удаление примитива датасета проекта
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/markups/{markupId}/history:
    get:
      summary: Получение информации об изменениях примитива датасета проекта
      description: >-
        Возвращает список записей о примитивах из таблицы markups - предыдущих
        версий данного примитива (на основе атрибута ```previous_id```)
      operationId: getProjectDatasetMarkupHistory
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkups'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/markups/{markupId}/parents:
    get:
      summary: Получение информации о "родителях" примитива датасета проекта
      description: >-
        Возвращает список записей о примитивах из таблицы markups, в состав
        которых данный примитив входит (на основе атрибута ```parent_id```)
      operationId: getProjectDatasetMarkupParents
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkups'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/markups/{markupId}/children:
    get:
      summary: Получение информации о "детях" примитива датасета проекта
      description: >-
        Возвращает список записей о примитивах из таблицы markups, входящих в
        состав данного примитива (на основе атрибута ```parent_id```)
      operationId: getProjectDatasetMarkupChildren
      tags:
        - Проект / Датасет / Примитивы
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
        - $ref: '#/components/parameters/markupId'
      responses:
        '200':
          $ref: '#/components/responses/DatasetMarkups'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/adjust:
    get:
      summary: Получение формы настроек ИНС (опционально)
      description: НЕ ИСПОЛЬЗУЕТСЯ
      operationId: getAnnSettingsForm
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/AnnSettingsForm'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Сохранение настроек ИНС (опционально)
      description: Сохраняет настройки ИНС, применяемые в указанном датасете
      operationId: saveAnnSettings
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/AnnSettings'
      responses:
        '200':
          description: Успешное сохранение настроек ИНС
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/start-teach:
    put:
      summary: ASYNC Запуск обучения
      description: >2-
         Асинхронно осуществляет запуск обучения ИНС на данном датасете: 

         - создает запись о ИНС в таблице nets с фиктивным Docker-контейнером и указывает ее в поле ```nn_online_id``` записи датасета в таблице datasets; 

         - при необходимости (сверка дат файлов разметки и признака ```is_calculated``` датасета) выгружает разметку из БД и создает файлы разметки;

         - запускает Docker-контейнер из Docker-образа в записи исходной ИНС в таблице nets, указанной в поле ```nn_original_id``` записи датасета в таблице datasets; 

         - подсоединяет к Docker-контейнеру файл весов, указанный в записи исходной ИНС в таблице nets, и файл параметров (опционально); 

         - подает на Docker-контейнер обучающую выборку; 

         - вызывает соотв. роут ```/ANN/ON_START```, где сообщает о результатах запуска контейнера - имя фиктивного контейнера в записи таблицы nets меняется на реальное.


        Далее выполняются действия в соответствии  с получением сообщений от
        контейнера ИНС:

         - производится контроль процесса обучения и снятие статистики; 

         - при окончании/остановке обучения создает запись об обученной ИНС (Docker-образ и файл параметров) в таблице nets и указывает ее в поле ```nn_teached_id``` записи датасета в таблице datasets; 

         - очищается поле ```nn_online_id``` записи датасета в таблице datasets. 
      operationId: startAnnTeach
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешный запуск операции
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/start-evaluate:
    put:
      summary: ASYNC Запуск оценки
      description: >2-
         Асинхронно осуществляет запуск оценки данных данного датасета: 

         - создает запись о ИНС в таблице nets с фиктивным Docker-контейнером и указывает ее в поле ```nn_online_id``` записи датасета в таблице datasets; 

         - при необходимости (сверка дат файлов разметки и признака ```is_calculated``` датасета) выгружает разметку из БД и создает файлы разметки;

         - запускает Docker-контейнер из Docker-образа в записи исходной ИНС в таблице nets, указанной в поле ```nn_original_id``` записи датасета в таблице datasets; 

         - подсоединяет к Docker-контейнеру файл весов, указанный в записи исходной ИНС в таблице nets, и файл параметров (опционально); 

         - подает на Docker-контейнер данные для оценки; 

         - вызывает соотв. роут ```/ANN/ON_START```, где сообщает о результатах запуска контейнера - имя фиктивного контейнера в записи таблицы nets меняется на реальное.


        Далее выполняются действия в соответствии  с получением сообщений от
        контейнера ИНС:

         - производится контроль процесса обучения и снятие статистики; 

         - очищается поле ```nn_online_id``` записи датасета в таблице datasets. 
      operationId: startAnnEval
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешный запуск операции
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/on_start:
    post:
      summary: CALLBACK Событие запуска обучения/оценки ИНС
      description: >-
        Вызывается после запуcка контейнера ИНС и возвращает информацию о
        состоянии контейнера или ошибку
      operationId: onStartAnn
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/Container'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/statistics:
    get:
      summary: Получение статистики
      description: Получает статистику обучения/оценки данных из Docker-контейнера
      operationId: getAnnStatistics
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/AnnStatistics'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/clasters:
    post:
      summary: ASYNC Запуск кластеризации
      description: Запуск алгоритмов кластеризации на векторных данных
      operationId: postAnnClasters
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешный запуск кластеризации
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    get:
      summary: Получение результатов кластеризации
      description: Получение результатов кластеризации
      operationId: getAnnClasters
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          $ref: '#/components/responses/AnnClasters'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/on_clasters:
    post:
      summary: CALLBACK Событие окончания кластеризации
      description: Вызывается после окончания алгоритма кластеризации или в случае ошибки
      operationId: onAnnClasters
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      requestBody:
        $ref: '#/components/requestBodies/NullOrError'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/stop:
    put:
      summary: Остановка обучения/оценки
      description: >-
        Принудительно останавливает процесс обучения/оценки данных. О действиях
        при остановке см. роуты ```/ann/start-teach``` и 
        ```/ann/start-evaluate```
      operationId: stopAnnTeachEval
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешная остановка обучения/оценки
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /projects/{projectId}/datasets/{datasetId}/ann/reset:
    put:
      summary: Сброс результатов обучения/оценки, статистики
      description: >-
        Сбрасывает датасет в исходное состояние. Удаляются прикрепленные к
        датасету цепочки примитивов, очищаются поля ```nn_teached_id``` и
        ```nn_online_id```, ```dt_calculated```, ``is_calculated``  записи
        датасета в таблице datasets
      operationId: resetAnnTeachEval
      tags:
        - Проект / Датасет / ИНС
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/projectId'
        - $ref: '#/components/parameters/datasetId'
      responses:
        '200':
          description: Успешный сброс результатов обучения/оценки, статистики
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann:
    get:
      summary: Получение списка ИНС
      description: >-
        Возвращает список записей ИНС из таблицы nets в соответствии с
        установленными в запросе параметрами фильтрации, сортировки и пагинации
      operationId: getAnns
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/annsFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Anns'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/create:
    get:
      summary: Получение записи ИНС по умолчанию
      description: Возвращает запись ИНС с полями, заполненным по умолчанию
      operationId: getCreateAnnData
      tags:
        - ИНС
      responses:
        '200':
          $ref: '#/components/responses/AnnParams'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    post:
      summary: Создание ИНС
      description: Создает запись о ИНС в таблице nets и возвращает ее
      operationId: createAnn
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
      requestBody:
        $ref: '#/components/requestBodies/AnnParams'
      responses:
        '200':
          $ref: '#/components/responses/Ann'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/{annId}:
    get:
      summary: Получение информации о ИНС
      description: >-
        Возвращает запись о ИНС из таблицы nets. Если ИНС удалена, возвращает
        ошибку 400
      operationId: getAnn
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/annId'
      responses:
        '200':
          $ref: '#/components/responses/Ann'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    put:
      summary: Обновление информации о ИНС
      description: >-
        Обновляет запись о ИНС в таблице nets и возвращает ее. Если ИНС удалена,
        возвращает ошибку 400
      operationId: updateAnn
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/annId'
      requestBody:
        $ref: '#/components/requestBodies/AnnParams'
      responses:
        '200':
          $ref: '#/components/responses/Ann'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
    delete:
      summary: Удаление ИНС
      description: >-
        Помечает запись о ИНС в таблице nets как удаленная, возвращает результат
        операции удаления. Если ИНС была ранее удалена, возвращает ошибку 400
      operationId: deleteAnn
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/annId'
      responses:
        '200':
          description: Успешное удаление ИНС
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/{annId}/archive/save:
    post:
      summary: ASYNC Выгрузка ИНС (Docker-образа и файла весов) в архив
      description: >-
        Начинает формирование архива и возвращает признак успешного начала
        операции архивирования. По окончании архивации вызывается роут
        ```ANN/<annId>/ARCHIVE/ON_SAVE```
      operationId: saveANN
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/annId'
      requestBody:
        $ref: '#/components/requestBodies/AnnExportParams'
      responses:
        '200':
          description: Успешное начало создания архива
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/{annId}/archive/on_save:
    post:
      summary: CALLBACK Событие окончания выгрузки ИНС в архив
      description: >-
        Вызывается после успешного окончания операции архивирования или при
        ошибке архивации
      operationId: onArchiveSaveANN
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/annId'
      requestBody:
        $ref: '#/components/requestBodies/NullOrError'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/{annId}/archive/on_error:
    post:
      summary: DEPRECATED Событие ошибки выгрузки ИНС в архив
      description: Вызывается в случае ошибки операции архивирования
      operationId: onArchiveErrorANN
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/annId'
      requestBody:
        $ref: '#/components/requestBodies/ErrorEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /ann/{annId}/archive/download:
    get:
      summary: Скачивание архива ИНС
      description: >-
        Возвращает архив для скачивания. Т.е. данный route - это ссылка на архив
        в хранилище
      operationId: downloadANN
      tags:
        - ИНС
      parameters:
        - $ref: '#/components/parameters/annId'
      responses:
        '200':
          $ref: '#/components/responses/TarDownload'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /docker:
    get:
      summary: Получение информации о состоянии Docker
      description: Выполняет команду ```docker info``` и возвращает ее вывод
      operationId: getDockerInfo
      tags:
        - Docker
      responses:
        '200':
          $ref: '#/components/responses/DockerInfo'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /registry:
    get:
      summary: Получение списка Docker-образов в реестре
      description: >-
        Выполняет команду ```docker images``` и возвращает ее вывод в
        соответствии с установленными в запросе параметрами фильтрации,
        сортировки и пагинации
      operationId: getRegistryImages
      tags:
        - Docker-реестр
      parameters:
        - $ref: '#/components/parameters/imagesFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Images'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /registry/stats:
    get:
      summary: Получение состояния реестра
      description: >-
        Выполняет команду ```docker stats <registryContainerId>``` и возвращает
        ее вывод
      operationId: getRegistryState
      tags:
        - Docker-реестр
      responses:
        '200':
          $ref: '#/components/responses/ContainerState'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /registry/{imageId}:
    get:
      summary: Получение информации о Docker-образе в реестре
      description: Выполняет команду ```docker images <imageId>``` и возвращает ее вывод
      operationId: getRegistryImage
      tags:
        - Docker-реестр
      parameters:
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/Image'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /registry/{imageId}/pull:
    post:
      summary: Извлечение Docker-образа из реестра на сервер
      description: >-
        Выполняет команду ```docker pull <imageId>``` и возвращает информацию об
        образе
      operationId: pullImage
      tags:
        - Docker-реестр
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/Image'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /registry/{imageId}/rmi:
    delete:
      summary: Удаление Docker-образа из реестра
      description: >-
        Выполняет команду ```docker rmi <imageId>``` и возвращает результат
        операции
      operationId: deleteRegistryImage
      tags:
        - Docker-реестр
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          description: Успешное удаление образа
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images:
    get:
      summary: Получение списка Docker-образов на сервере
      description: >-
        Выполняет команду ```docker images``` и возвращает ее вывод в
        соответствии с установленными в запросе параметрами фильтрации,
        сортировки и пагинации
      operationId: getImages
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/imagesFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Images'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}:
    get:
      summary: Получение информации о Docker-образе на сервере
      description: Выполняет команду ```docker images <imageId>``` и возвращает ее вывод
      operationId: getImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/Image'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/history:
    get:
      summary: Получение истории Docker-образа
      description: Выполняет команду ```docker history <imageId>``` и возвращает ее вывод
      operationId: getImageHistory
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/Images'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/create:
    post:
      summary: ASYNC Создание Dockеr-контейнера из Docker-образа
      description: >-
        Готовит данные для запуска контейнера и выполняет команду ```docker
        create <imageId>```
      operationId: createContainer
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      requestBody:
        $ref: '#/components/requestBodies/ContainerParams'
      responses:
        '200':
          description: Успешное начало операции
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/run:
    post:
      summary: ASYNC Создание Dockеr-контейнера из Docker-образа и его запуск
      description: >-
        Готовит данные для запуска контейнера и выполняет команду ```docker run
        <imageId>```. Вызывает роут ```CONTAINERS/<containerId>/ON_START```, где
        возвращает информацию о запущенном контейнере
      operationId: runContainer
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      requestBody:
        $ref: '#/components/requestBodies/ContainerParams'
      responses:
        '200':
          description: Успешное начало операции
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/push:
    post:
      summary: Помещение Docker-образа в реестр
      description: >-
        Выполняет команду ```docker push <imageId>``` и возвращает информацию об
        образе
      operationId: pushImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/Image'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/save:
    post:
      summary: ASYNC Выгрузка Docker-образа в архив
      description: >-
        Выполняет команду ```docker save <imageId>``` и возвращает признак
        успешного начала операции архивирования. По окончании архивации вызывает
        роут ```IMAGES/<imageId>/ON_SAVE```
      operationId: saveImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          description: Успешное начало создания архива
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/on_save:
    post:
      summary: CALLBACK Событие окончания выгрузки Docker-образа в архив
      description: >-
        Вызывается после окончния выгрузки Docker-образа в архив или в случае
        ошибки
      operationId: onSaveImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      requestBody:
        $ref: '#/components/requestBodies/NullOrError'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/download:
    get:
      summary: Скачивание архива Docker-образа
      description: >-
        Возвращает архив для скачивания. Т.е. данный route - это ссылка на архив
        в хранилище
      operationId: downloadImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          $ref: '#/components/responses/TarDownload'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /images/{imageId}/rmi:
    delete:
      summary: Удаление Docker-образа с сервера
      description: >-
        Выполняет команду ```docker rmi <imageId>``` и возвращает результат
        операции
      operationId: deleteImage
      tags:
        - Docker-образы
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/imageId'
      responses:
        '200':
          description: Успешное удаление образа
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers:
    get:
      summary: Получение списка Docker-контейнеров на сервере
      description: >-
        Выполняет команду ```docker ps``` и возвращает ее вывод в соответствии с
        установленными в запросе параметрами фильтрации, сортировки и пагинации
      operationId: getContainers
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/containersFilter'
        - $ref: '#/components/parameters/_page'
        - $ref: '#/components/parameters/_pageSize'
        - $ref: '#/components/parameters/_sort'
      responses:
        '200':
          $ref: '#/components/responses/Containers'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/stats:
    get:
      summary: Получение списка состояний Docker-контейнеров на сервере
      description: Выполняет команду ```docker stats``` и возвращает ее вывод
      operationId: getContainersStates
      tags:
        - Docker-контейнеры
      responses:
        '200':
          $ref: '#/components/responses/ContainersStates'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}:
    get:
      summary: Получение информации о Docker-контейнере на сервере
      description: >-
        Выполняет команду ```docker ps --filter ''id=<containerID>''``` и
        возвращает ее вывод
      operationId: getContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          $ref: '#/components/responses/Container'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/stats:
    get:
      summary: Получение состояния Docker-контейнера на сервере
      description: Выполняет команду ```docker stats <containerID>``` и возвращает ее вывод
      operationId: getContainerState
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          $ref: '#/components/responses/ContainerState'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/monitor:
    get:
      summary: Получение списка виджетов для мониторинга состояния Docker-контейнера
      description: Получает спискок виджетов для вывода панелей Grafana
      operationId: getContainerMonitor
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          $ref: '#/components/responses/ContainerMonitor'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/start:
    put:
      summary: ASYNC Запуск Docker-контейнер на сервере
      description: >-
        Выполняет команду ```docker start <containerID>```. Вызывает роут
        ```CONTAINERS/<containerId>/ON_START```, где возвращает информацию о
        запущенном контейнере
      operationId: startContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          $ref: '#/components/responses/ContainerState'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/on_start:
    post:
      summary: CALLBACK Событие запуска Docker-контейнера
      description: >-
        Вызывается после запуcка контейнера и возвращает информацию о состоянии
        контейнера или - в случае ошибки запуска - сообщение об ошибке
      operationId: onStartContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/ContainerWithDataset'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/on_run:
    post:
      summary: DEPRECATED Событие запуска Docker-контейнера
      description: >-
        Вызывается после запуcка контейнера и возвращает информацию о состоянии
        контейнера или - в случае ошибки запуска - сообщение об ошибке
      operationId: onRunContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/ContainerWithDataset'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/stop:
    put:
      summary: Остановка Docker-контейнер на сервере
      description: >-
        Выполняет команду ```docker stop <containerID>``` и возвращает
        информацию о состоянии контейнера
      operationId: stopContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          $ref: '#/components/responses/ContainerState'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/commit:
    post:
      summary: Создание Docker-образа из Docker-контейнера
      description: >-
        Выполняет команду ```docker commit <containerID>``` и возвращает
        информацию об образе
      operationId: commitContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/ImageParams'
      responses:
        '200':
          $ref: '#/components/responses/Image'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /containers/{containerId}/rm:
    delete:
      summary: Удаление Docker-контейнера с сервера
      description: Выполняет команду ```docker rm <containerID>``` и возвращает ее вывод
      operationId: deleteContainer
      tags:
        - Docker-контейнеры
      parameters:
        - $ref: '#/components/parameters/_deleteMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/containerId'
      responses:
        '200':
          description: Успешное удаление контейнера
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /events/{containerId}/before_start:
    post:
      summary: CALLBACK Событие начала обработки данных
      description: >-
        Вызывается как можно раньше после запуска контейнера и перед началом
        работы скриптов обработки данных
      operationId: eventBeforeStart
      tags:
        - События в Docker-контейнере
      parameters:
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/StartEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /events/{containerId}/on_progress:
    post:
      summary: CALLBACK Событие прогресса обработки данных
      description: Вызывается периодически по мере обработки данных в контейнере
      operationId: eventOnProgress
      tags:
        - События в Docker-контейнере
      parameters:
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/ProgressEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /events/{containerId}/on_error:
    post:
      summary: CALLBACK Cобытие ошибки обработки данных
      description: >-
        Вызывается в случае возникновения ошибки в процессе обработки данных в
        контейнере
      operationId: eventOnError
      tags:
        - События в Docker-контейнере
      parameters:
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/ErrorEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /events/{containerId}/before_end:
    post:
      summary: CALLBACK Cобытие окончания обработки данных
      description: >-
        Вызывается после окончания обработки данных в контейнере и сохранением
        выходных файлов в папке OUT_DIR и перед остановкой (удалением)
        контейнера
      operationId: eventBeforeEnd
      tags:
        - События в Docker-контейнере
      parameters:
        - $ref: '#/components/parameters/containerId'
      requestBody:
        $ref: '#/components/requestBodies/EndEventParams'
      responses:
        '200':
          description: Успешная передача сообщения
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /notifications:
    get:
      summary: Получение списка уведомлений о событиях
      description: Возвращает список непрочитанных уведомлений
      operationId: getNotifications
      tags:
        - Уведомления о событиях
      responses:
        '200':
          $ref: '#/components/responses/Notifications'
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /notifications/{notificationId}/read:
    put:
      summary: Пометка уведомления как "прочитанного"
      description: Помечает уведомление как "прочитанное"
      operationId: readNotification
      tags:
        - Уведомления о событиях
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
        - $ref: '#/components/parameters/notificationId'
      responses:
        '200':
          description: Успешная пометка уведомления
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
  /notifications/read-all:
    put:
      summary: Пометка всех уведомлений как "прочитанных"
      description: Помечает все уведомления как "прочитанные"
      operationId: readallNotifications
      tags:
        - Уведомления о событиях
      parameters:
        - $ref: '#/components/parameters/_putMethod'
        - $ref: '#/components/parameters/_csrf'
      responses:
        '200':
          description: Успешная пометка всех уведомлений
        '400':
          $ref: '#/components/responses/ClientError'
        '500':
          $ref: '#/components/responses/ServerError'
        default:
          $ref: '#/components/responses/Error'
components:
  securitySchemes:
    basic:
      type: http
      scheme: basic
    jwt:
      type: http
      scheme: bearer
      bearerFormat: JWT
    x-jwt:
      type: apiKey
      in: header
      name: X-JWT-Token
      description: All authed requests include the `X-JWT-Token` header
    cookie-jwt:
      type: apiKey
      in: cookie
      name: jwt
      description: All authed requests include the `jwt` HttpOnly cookie
  schemas:
    KeyValueObject:
      type: object
      description: Объект "ключ-значение"
      additionalProperties:
        type: string
    Error:
      type: object
      description: Описание ошибки
      required:
        - code
        - message
      properties:
        code:
          type: integer
          example: XXX
        message:
          type: string
          example: Unknown error
        details:
          type: object
          description: Объект "ключ-значение"
          additionalProperties:
            type: string
    ClientError:
      type: object
      description: Ошибка клиента
      required:
        - code
        - message
      properties:
        code:
          type: integer
          example: 400
        message:
          type: string
          example: Bad Request
        details:
          type: object
          description: Объект "ключ-значение"
          additionalProperties:
            type: string
    ServerError:
      type: object
      description: Ошибка сервера
      required:
        - code
        - message
      properties:
        code:
          type: integer
          example: 500
        message:
          type: string
          example: Internal Server Error
        details:
          type: object
          description: Объект "ключ-значение"
          additionalProperties:
            type: string
    NullOrError:
      oneOf:
        - type: object
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    CSRF:
      type: string
      description: CSRF token
      example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    JWT:
      type: object
      description: JWT токен
      properties:
        jwt:
          type: string
          example: >-
            eyJ0eXAwcvvcb1QiLCJhbGciOsdfsUzI1NiJ9.eyJpZCI6IjEzMzciLCJ1c2VybmFtZSI6ImJpem9uZSIswwwfcI6MTU5NDIwOTYwMCwicm9sZSI6InVzZXIifQ.ZvkYYnyM92xvxcvNW9_hSis7_x3_9rymsDcvcbvuOcc1I
    UUID:
      type: string
      description: UUID
      example: 550e8400-e29b-41d4-a716-446655440001
      format: uuid
    BinaryFile:
      type: string
      description: Двоичный файл
      format: binary
    DockerHash:
      type: string
      description: хэш Docker образа/контейнера
      example: 583407a61900
    FileUpload:
      type: object
      description: Загружаемый файл
      properties:
        file:
          type: string
          description: Двоичный файл
          format: binary
    FilesUpload:
      type: object
      description: Загружаемые файлы
      properties:
        files:
          type: array
          items:
            type: string
            description: Двоичный файл
            format: binary
    Pagination:
      type: object
      description: Настройки пагинации
      properties:
        page:
          type: integer
          example: 1
        pageSize:
          type: integer
          example: 15
        totalItems:
          type: integer
          example: 33
        totalPages:
          type: integer
          example: 6
    DatePeriod:
      type: string
      description: Период времени
      example: 17.04.2024 - 10.05.2024
    ProjectType:
      type: string
      description: Тип проекта
      example: teach
      enum:
        - teach
        - eval
    ProjectDatasetsByState:
      type: object
      description: Количество датасетов проекта по группам
      properties:
        prepare:
          type: number
          example: 4
        calculating:
          type: number
          example: 1
        ready:
          type: number
          example: 2
    Project:
      type: object
      description: Описание проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Проект 1
        type:
          type: string
          description: Тип проекта
          example: teach
          enum:
            - teach
            - eval
        description:
          type: string
          example: Описание проекта 1
        datasets:
          type: object
          description: Количество датасетов проекта по группам
          properties:
            prepare:
              type: number
              example: 4
            calculating:
              type: number
              example: 1
            ready:
              type: number
              example: 2
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
    ProjectRef:
      type: object
      description: Краткое описание проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Проект 1
        type:
          type: string
          description: Тип проекта
          example: teach
          enum:
            - teach
            - eval
    Projects:
      type: object
      description: Список проектов
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Проект 1
              type:
                type: string
                description: Тип проекта
                example: teach
                enum:
                  - teach
                  - eval
              description:
                type: string
                example: Описание проекта 1
              datasets:
                type: object
                description: Количество датасетов проекта по группам
                properties:
                  prepare:
                    type: number
                    example: 4
                  calculating:
                    type: number
                    example: 1
                  ready:
                    type: number
                    example: 2
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
    ProjectParams:
      type: object
      description: Параметры создания/изменения проекта
      required:
        - name
        - type
        - description
      properties:
        name:
          type: string
          example: Проект 1
        type:
          type: string
          description: Тип проекта
          example: teach
          enum:
            - teach
            - eval
        description:
          type: string
          example: Описание проекта 1
    ProjectsFilter:
      type: object
      description: Параметры фильтрации списка проектов
      required:
        - type
      properties:
        name:
          description: Фрагмент наименования или описания
          type: string
        type:
          type: string
          description: Тип проекта
          example: teach
          enum:
            - teach
            - eval
        create_period:
          type: string
          description: Период времени
          example: 17.04.2024 - 10.05.2024
    DatasetType:
      type: string
      description: Тип датасета
      example: initial
      enum:
        - initial
        - frame
        - subframe
        - skeleton
    DatasetState:
      type: string
      description: Состояние датасета
      example: prepare
      enum:
        - prepare
        - calculating
        - ready
    Dataset:
      type: object
      description: Описание датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Датасет 1-1
        type:
          type: string
          description: Тип датасета
          example: initial
          enum:
            - initial
            - frame
            - subframe
            - skeleton
        parent_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        project:
          type: object
          description: Краткое описание проекта
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Проект 1
            type:
              type: string
              description: Тип проекта
              example: teach
              enum:
                - teach
                - eval
        source:
          type: string
          example: ftp://dt1-1.datasets
        nn_original:
          type: object
          description: Краткое описание ИНС
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: ИНС 123
        nn_online:
          type: object
          description: Краткое описание ИНС
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: ИНС 123
        nn_teached:
          type: object
          description: Краткое описание ИНС
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: ИНС 123
        description:
          type: string
          example: Описание датасета 1-1
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
        dt_calculated:
          type: string
          example: '2023-12-26 16:00:00'
        is_calculated:
          type: integer
          example: 1
    DatasetRef:
      type: object
      description: Краткое описание датасета
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Датасет 1-1
        type:
          type: string
          description: Тип датасета
          example: initial
          enum:
            - initial
            - frame
            - subframe
            - skeleton
    Datasets:
      type: object
      description: Список датасетов проектов
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Датасет 1-1
              type:
                type: string
                description: Тип датасета
                example: initial
                enum:
                  - initial
                  - frame
                  - subframe
                  - skeleton
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              source:
                type: string
                example: ftp://dt1-1.datasets
              nn_original:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_online:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_teached:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              description:
                type: string
                example: Описание датасета 1-1
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              dt_calculated:
                type: string
                example: '2023-12-26 16:00:00'
              is_calculated:
                type: integer
                example: 1
    DatasetsNoPagination:
      type: object
      description: Список датасетов проектов
      properties:
        items:
          type: array
          items:
            type: object
            description: Описание датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Датасет 1-1
              type:
                type: string
                description: Тип датасета
                example: initial
                enum:
                  - initial
                  - frame
                  - subframe
                  - skeleton
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              source:
                type: string
                example: ftp://dt1-1.datasets
              nn_original:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_online:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_teached:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              description:
                type: string
                example: Описание датасета 1-1
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              dt_calculated:
                type: string
                example: '2023-12-26 16:00:00'
              is_calculated:
                type: integer
                example: 1
    DatasetParams:
      type: object
      description: Параметры создания/изменения датасета проекта
      required:
        - name
        - project_id
        - type
        - description
      properties:
        name:
          type: string
          example: Датасет 1-1
        project_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        type:
          type: string
          description: Тип датасета
          example: initial
          enum:
            - initial
            - frame
            - subframe
            - skeleton
        parent_id:
          description: UUID
          type: string
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        source:
          type: string
          example: ftp://dt1-1.datasets
        nn_original:
          description: UUID
          type: string
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        description:
          type: string
          example: Описание датасета 1-1
    DatasetsFilter:
      type: object
      description: Параметры фильтрации списка датасетов
      properties:
        name:
          description: Фрагмент наименования или описания
          type: string
        type:
          type: string
          description: Тип датасета
          example: initial
          enum:
            - initial
            - frame
            - subframe
            - skeleton
        state:
          type: string
          description: Состояние датасета
          example: prepare
          enum:
            - prepare
            - calculating
            - ready
    DatasetExportParams:
      type: object
      description: Параметры экспорт датасета проекта
      properties:
        target_dir:
          description: Путь сохранения файлов экспорта
          type: string
    DatasetExportFile:
      type: object
      description: Описатель файла экспорта
      properties:
        name:
          description: Полное имя файла
          type: string
        chains_count:
          description: количество цепочек
          type: integer
        markups_count:
          description: количество примитивов
          type: integer
    DatasetExportFiles:
      type: object
      description: Структура ответа процедуры экспорта
      properties:
        files:
          type: array
          description: Список файлов экспорта
          items:
            type: object
            description: Описатель файла экспорта
            properties:
              name:
                description: Полное имя файла
                type: string
              chains_count:
                description: количество цепочек
                type: integer
              markups_count:
                description: количество примитивов
                type: integer
    DatasetExportFilesOrError:
      oneOf:
        - type: object
          description: Структура ответа процедуры экспорта
          properties:
            files:
              type: array
              description: Список файлов экспорта
              items:
                type: object
                description: Описатель файла экспорта
                properties:
                  name:
                    description: Полное имя файла
                    type: string
                  chains_count:
                    description: количество цепочек
                    type: integer
                  markups_count:
                    description: количество примитивов
                    type: integer
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    DatasetImportParams:
      type: object
      description: Параметры импорта датасета проекта
      required:
        - files
      properties:
        files:
          description: Массив файлов импорта
          type: array
          items:
            type: string
            description: Имя файла
    DatasetImportFiles:
      type: object
      description: Структура ответа процедуры импорта
      properties:
        files:
          type: array
          description: Список файлов импорта
          items:
            type: object
            description: Описатель файла экспорта
            properties:
              name:
                description: Полное имя файла
                type: string
              chains_count:
                description: количество цепочек
                type: integer
              markups_count:
                description: количество примитивов
                type: integer
    DatasetImportFilesOrError:
      oneOf:
        - type: object
          description: Структура ответа процедуры импорта
          properties:
            files:
              type: array
              description: Список файлов импорта
              items:
                type: object
                description: Описатель файла экспорта
                properties:
                  name:
                    description: Полное имя файла
                    type: string
                  chains_count:
                    description: количество цепочек
                    type: integer
                  markups_count:
                    description: количество примитивов
                    type: integer
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    DatasetFileSubset:
      type: string
      description: Поднабор, куда входит файл
      example: teach
      enum:
        - teach
        - test
        - control
    DatasetFile:
      type: object
      description: Описание файла датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: drive/dir0/dir1/file111.mpeg
        label:
          type: string
          example: Файл 1-1-1
        subset_type:
          type: string
          description: Поднабор, куда входит файл
          example: teach
          enum:
            - teach
            - test
            - control
        thumbnail:
          type: string
          example: file111_thumb.jpg
        dataset:
          type: object
          description: Краткое описание датасета
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Датасет 1-1
            type:
              type: string
              description: Тип датасета
              example: initial
              enum:
                - initial
                - frame
                - subframe
                - skeleton
        project:
          type: object
          description: Краткое описание проекта
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Проект 1
            type:
              type: string
              description: Тип проекта
              example: teach
              enum:
                - teach
                - eval
        description:
          type: string
          example: Описание файла 1-1-1
        attributes:
          type: object
          description: Объект "ключ-значение"
          additionalProperties:
            type: string
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
        dt_uploaded:
          type: string
          example: '2023-12-26 15:00:00'
        is_marked:
          type: integer
          example: 1
    DatasetFileRef:
      type: object
      description: Краткое описание файла датасета
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Файл 1-1-1
    DatasetFiles:
      type: object
      description: Список файлов датасетов проектов
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание файла датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: drive/dir0/dir1/file111.mpeg
              label:
                type: string
                example: Файл 1-1-1
              subset_type:
                type: string
                description: Поднабор, куда входит файл
                example: teach
                enum:
                  - teach
                  - test
                  - control
              thumbnail:
                type: string
                example: file111_thumb.jpg
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              description:
                type: string
                example: Описание файла 1-1-1
              attributes:
                type: object
                description: Объект "ключ-значение"
                additionalProperties:
                  type: string
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              dt_uploaded:
                type: string
                example: '2023-12-26 15:00:00'
              is_marked:
                type: integer
                example: 1
    DatasetFileIds:
      type: array
      description: Список ID файлов датасетов проектов
      items:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    DatasetFileIntervals:
      type: array
      description: Список ID файлов датасетов проектов с указанием интервалов времени
      items:
        type: object
        properties:
          file_id:
            type: string
            description: UUID
            example: 550e8400-e29b-41d4-a716-446655440001
            format: uuid
          t_begin:
            type: integer
          t_end:
            type: integer
    DatasetFileParams:
      type: object
      description: Параметры изменения файла датасета проекта
      properties:
        label:
          type: string
          example: Файл 1-1-1
        subset_type:
          type: string
          description: Поднабор, куда входит файл
          example: teach
          enum:
            - teach
            - test
            - control
        thumbnail:
          type: string
          example: file111_thumb.jpg
        description:
          type: string
          example: Описание файла 1-1-1
    DatasetFilesFilter:
      type: object
      description: Параметры фильтрации списка файлов датасета
      properties:
        name:
          description: Фрагмент наименования, метки или описания
          type: string
        is_marked:
          type: integer
          example: 1
    DatasetChainOrigin:
      type: string
      description: Источник получения цепочки
      example: manual
      enum:
        - manual
        - auto
        - adjusted
    DatasetChain:
      type: object
      description: Описание цепочки примитивов датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Цепочка 1-1-1-1
        dataset:
          type: object
          description: Краткое описание датасета
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Датасет 1-1
            type:
              type: string
              description: Тип датасета
              example: initial
              enum:
                - initial
                - frame
                - subframe
                - skeleton
        file:
          type: object
          description: Краткое описание файла датасета
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Файл 1-1-1
        project:
          type: object
          description: Краткое описание проекта
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Проект 1
            type:
              type: string
              description: Тип проекта
              example: teach
              enum:
                - teach
                - eval
        color:
          type: string
          example: ff0033aa
        origin:
          type: string
          description: Источник получения цепочки
          example: manual
          enum:
            - manual
            - auto
            - adjusted
        description:
          type: string
          example: Описание цепочки 1-1-1-1
        vector:
          type: string
        in_files:
          type: array
          description: Список ID файлов датасетов проектов с указанием интервалов времени
          items:
            type: object
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              t_begin:
                type: integer
              t_end:
                type: integer
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
        interval:
          type: string
          example: 10.34:11.6
    DatasetChainRef:
      type: object
      description: Краткое описание цепочки примитивов датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Цепочка 1-1-1-1
    DatasetChains:
      type: object
      description: Список цепочек примитивов датасетов проектов
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание цепочки примитивов датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Цепочка 1-1-1-1
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              file:
                type: object
                description: Краткое описание файла датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Файл 1-1-1
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              color:
                type: string
                example: ff0033aa
              origin:
                type: string
                description: Источник получения цепочки
                example: manual
                enum:
                  - manual
                  - auto
                  - adjusted
              description:
                type: string
                example: Описание цепочки 1-1-1-1
              vector:
                type: string
              in_files:
                type: array
                description: >-
                  Список ID файлов датасетов проектов с указанием интервалов
                  времени
                items:
                  type: object
                  properties:
                    file_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    t_begin:
                      type: integer
                    t_end:
                      type: integer
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              interval:
                type: string
                example: 10.34:11.6
    DatasetChainIds:
      type: array
      description: Список ID цепочек примитивов датасетов проектов
      items:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    DatasetChainParams:
      type: object
      description: Параметры изменения цепочки примитивов датасета проекта
      required:
        - file_id
      properties:
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Цепочка 1-1-1-1
        color:
          type: string
          example: ff0033aa
        origin:
          type: string
          description: Источник получения цепочки
          example: manual
          enum:
            - manual
            - auto
            - adjusted
        description:
          type: string
          example: Описание цепочки 1-1-1-1
    DatasetChainUpdateParams:
      type: object
      description: Параметры изменения цепочки примитивов датасета проекта
      properties:
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        markups:
          type: object
          description: >-
            Последовательность новых примитивов (имя свойства - временной
            интервал, пример "1.00:5.45")
          additionalProperties:
            type: object
            description: >-
              Последовательность примитивов ФРЕЙМ (имя свойства - момент
              времени, пример "0.93")
            additionalProperties:
              oneOf:
                - allOf:
                    - type: object
                      description: Примитив общий
                      properties:
                        vector:
                          type: string
                        is_stop:
                          type: integer
                          example: 1
                    - type: object
                      description: Примитив типа ФРЕЙМ
                      properties:
                        x:
                          type: number
                        'y':
                          type: number
                        width:
                          type: number
                        height:
                          type: number
                - allOf:
                    - type: object
                      description: Примитив общий
                      properties:
                        vector:
                          type: string
                        is_stop:
                          type: integer
                          example: 1
                    - type: object
                      description: Примитив типа ГРАФ
                      properties:
                        nodes:
                          type: object
                          description: Именованный набор вершин графа
                          additionalProperties:
                            type: object
                            description: Описание вершины графа
                            properties:
                              x:
                                type: number
                              'y':
                                type: number
                        edges:
                          type: object
                          description: Именованный набор ребер графа
                          additionalProperties:
                            type: object
                            description: Описание ребра графа
                            properties:
                              from:
                                type: string
                                description: Имя вершины
                              to:
                                type: string
                                description: Имя вершины
              discriminator:
                propertyName: markupType
                mapping:
                  rect: RectMarkup
                  graph: GraphMarkup
    DatasetChainSplitParams:
      type: object
      description: Параметры разделения цепочки примитивов датасета проекта
      required:
        - t_splits
      properties:
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        t_splits:
          type: array
          description: моменты времени разделений исходной цепочки
          items:
            type: integer
    DatasetChainsJoinParams:
      type: object
      description: Параметры связывания цепочек примитивов датасета проекта
      required:
        - chain_ids
      properties:
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        chain_ids:
          description: Список ID цепочек примитивов датасетов проектов
          type: array
          items:
            type: string
            description: UUID
            example: 550e8400-e29b-41d4-a716-446655440001
            format: uuid
    DatasetChainsFilter:
      type: object
      description: Параметры фильтрации списка цепочек примитивов датасета
      properties:
        name:
          description: Фрагмент наименования цепочки
        origin:
          description: Источник получения цепочки
          type: string
          example: manual
          enum:
            - manual
            - auto
            - adjusted
        file_ids:
          description: Список ID файлов датасетов проектов
          type: array
          items:
            type: string
            description: UUID
            example: 550e8400-e29b-41d4-a716-446655440001
            format: uuid
        t_begin:
          description: Момент времени начала целевого интервала цепочек
          type: integer
        t_end:
          description: Момент времени конца целевого интервала цепочек
          type: integer
    DatasetChainsRelevanceQuery:
      type: object
      description: Параметры поиска на релевантность в списке цепочек примитивов датасета
      properties:
        file_ids:
          description: Список ID файлов датасетов проектов
          type: array
          items:
            type: string
            description: UUID
            example: 550e8400-e29b-41d4-a716-446655440001
            format: uuid
        query_data:
          description: Изображение png, закодированное в base64
          type: string
          example: base64 encoded png image
    DatasetRelevantChain:
      type: object
      description: Описание релевантной цепочки примитивов датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        t_begin:
          type: integer
        t_end:
          type: integer
        relevance:
          type: string
          example: '0.346'
    DatasetRelevantChains:
      type: object
      description: Список релевантных цепочек примитивов датасетов проектов
      properties:
        items:
          type: array
          items:
            type: object
            description: Описание релевантной цепочки примитивов датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              t_begin:
                type: integer
              t_end:
                type: integer
              relevance:
                type: string
                example: '0.346'
    DatasetRelevantChainsOrError:
      oneOf:
        - type: object
          description: Список релевантных цепочек примитивов датасетов проектов
          properties:
            items:
              type: array
              items:
                type: object
                description: Описание релевантной цепочки примитивов датасета проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  file_id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  t_begin:
                    type: integer
                  t_end:
                    type: integer
                  relevance:
                    type: string
                    example: '0.346'
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    DatasetMarkup:
      type: object
      description: Описание примитива датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        parent_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        previous_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        description:
          type: string
          example: Описание примитива 1-1-1-1-1
        vector:
          type: string
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        mark_time:
          type: integer
        mark_path:
          type: string
        is_stop:
          type: integer
          example: 0
        chain:
          type: object
          description: Краткое описание цепочки примитивов датасета проекта
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Цепочка 1-1-1-1
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
    DatasetMarkupRef:
      type: object
      description: Краткое описание примитива датасета проекта
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        vector:
          type: string
        mark_time:
          type: integer
        mark_path:
          type: string
        is_stop:
          type: integer
          example: 0
    DatasetMarkups:
      type: object
      description: Список примитивов датасетов проектов
      properties:
        items:
          type: array
          items:
            type: object
            description: Описание примитива датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              previous_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание примитива 1-1-1-1-1
              vector:
                type: string
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              mark_time:
                type: integer
              mark_path:
                type: string
              is_stop:
                type: integer
                example: 0
              chain:
                type: object
                description: Краткое описание цепочки примитивов датасета проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Цепочка 1-1-1-1
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
    DatasetMarkupsRefs:
      type: object
      description: Список кратких примитивов датасетов проектов
      properties:
        items:
          type: array
          items:
            type: object
            description: Краткое описание примитива датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              vector:
                type: string
              mark_time:
                type: integer
              mark_path:
                type: string
              is_stop:
                type: integer
                example: 0
    DatasetMarkupParams:
      type: object
      description: Параметры изменения примитива датасета проекта
      required:
        - file_id
        - mark_time
        - mark_path
      properties:
        file_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        mark_time:
          type: integer
        mark_path:
          type: string
        is_stop:
          type: integer
          example: 0
        previous_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        description:
          type: string
          example: Описание примитива 1-1-1-1-1
        chain_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
    DatasetMarkupIds:
      type: array
      description: Последовательность ID примитивов датасетов проектов
      items:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    AbstractMarkup:
      type: object
      description: Примитив общий
      properties:
        vector:
          type: string
        is_stop:
          type: integer
          example: 1
    RectMarkup:
      allOf:
        - type: object
          description: Примитив общий
          properties:
            vector:
              type: string
            is_stop:
              type: integer
              example: 1
        - type: object
          description: Примитив типа ФРЕЙМ
          properties:
            x:
              type: number
            'y':
              type: number
            width:
              type: number
            height:
              type: number
    GraphMarkup:
      allOf:
        - type: object
          description: Примитив общий
          properties:
            vector:
              type: string
            is_stop:
              type: integer
              example: 1
        - type: object
          description: Примитив типа ГРАФ
          properties:
            nodes:
              type: object
              description: Именованный набор вершин графа
              additionalProperties:
                type: object
                description: Описание вершины графа
                properties:
                  x:
                    type: number
                  'y':
                    type: number
            edges:
              type: object
              description: Именованный набор ребер графа
              additionalProperties:
                type: object
                description: Описание ребра графа
                properties:
                  from:
                    type: string
                    description: Имя вершины
                  to:
                    type: string
                    description: Имя вершины
    Node:
      type: object
      description: Описание вершины графа
      properties:
        x:
          type: number
        'y':
          type: number
    Edge:
      type: object
      description: Описание ребра графа
      properties:
        from:
          type: string
          description: Имя вершины
        to:
          type: string
          description: Имя вершины
    NewMarkup:
      oneOf:
        - allOf:
            - type: object
              description: Примитив общий
              properties:
                vector:
                  type: string
                is_stop:
                  type: integer
                  example: 1
            - type: object
              description: Примитив типа ФРЕЙМ
              properties:
                x:
                  type: number
                'y':
                  type: number
                width:
                  type: number
                height:
                  type: number
        - allOf:
            - type: object
              description: Примитив общий
              properties:
                vector:
                  type: string
                is_stop:
                  type: integer
                  example: 1
            - type: object
              description: Примитив типа ГРАФ
              properties:
                nodes:
                  type: object
                  description: Именованный набор вершин графа
                  additionalProperties:
                    type: object
                    description: Описание вершины графа
                    properties:
                      x:
                        type: number
                      'y':
                        type: number
                edges:
                  type: object
                  description: Именованный набор ребер графа
                  additionalProperties:
                    type: object
                    description: Описание ребра графа
                    properties:
                      from:
                        type: string
                        description: Имя вершины
                      to:
                        type: string
                        description: Имя вершины
      discriminator:
        propertyName: markupType
        mapping:
          rect: RectMarkup
          graph: GraphMarkup
    NewMarkupsSubset:
      type: object
      description: >-
        Последовательность примитивов ФРЕЙМ (имя свойства - момент времени,
        пример "0.93")
      additionalProperties:
        oneOf:
          - allOf:
              - type: object
                description: Примитив общий
                properties:
                  vector:
                    type: string
                  is_stop:
                    type: integer
                    example: 1
              - type: object
                description: Примитив типа ФРЕЙМ
                properties:
                  x:
                    type: number
                  'y':
                    type: number
                  width:
                    type: number
                  height:
                    type: number
          - allOf:
              - type: object
                description: Примитив общий
                properties:
                  vector:
                    type: string
                  is_stop:
                    type: integer
                    example: 1
              - type: object
                description: Примитив типа ГРАФ
                properties:
                  nodes:
                    type: object
                    description: Именованный набор вершин графа
                    additionalProperties:
                      type: object
                      description: Описание вершины графа
                      properties:
                        x:
                          type: number
                        'y':
                          type: number
                  edges:
                    type: object
                    description: Именованный набор ребер графа
                    additionalProperties:
                      type: object
                      description: Описание ребра графа
                      properties:
                        from:
                          type: string
                          description: Имя вершины
                        to:
                          type: string
                          description: Имя вершины
        discriminator:
          propertyName: markupType
          mapping:
            rect: RectMarkup
            graph: GraphMarkup
    DatasetCreateMarkups:
      type: object
      description: >-
        Последовательность новых примитивов (имя свойства - временной интервал,
        пример "1.00:5.45")
      additionalProperties:
        type: object
        description: >-
          Последовательность примитивов ФРЕЙМ (имя свойства - момент времени,
          пример "0.93")
        additionalProperties:
          oneOf:
            - allOf:
                - type: object
                  description: Примитив общий
                  properties:
                    vector:
                      type: string
                    is_stop:
                      type: integer
                      example: 1
                - type: object
                  description: Примитив типа ФРЕЙМ
                  properties:
                    x:
                      type: number
                    'y':
                      type: number
                    width:
                      type: number
                    height:
                      type: number
            - allOf:
                - type: object
                  description: Примитив общий
                  properties:
                    vector:
                      type: string
                    is_stop:
                      type: integer
                      example: 1
                - type: object
                  description: Примитив типа ГРАФ
                  properties:
                    nodes:
                      type: object
                      description: Именованный набор вершин графа
                      additionalProperties:
                        type: object
                        description: Описание вершины графа
                        properties:
                          x:
                            type: number
                          'y':
                            type: number
                    edges:
                      type: object
                      description: Именованный набор ребер графа
                      additionalProperties:
                        type: object
                        description: Описание ребра графа
                        properties:
                          from:
                            type: string
                            description: Имя вершины
                          to:
                            type: string
                            description: Имя вершины
          discriminator:
            propertyName: markupType
            mapping:
              rect: RectMarkup
              graph: GraphMarkup
    AnnDockerType:
      type: string
      description: Docker состояние ИНС
      example: image
      enum:
        - image
        - container
    Ann:
      type: object
      description: Описание ИНС
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: ИНС 123
        parent_id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        parent:
          type: object
          description: Краткое описание ИНС
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: ИНС 123
        docker:
          type: object
          description: Краткое описание образа
          required:
            - id
          properties:
            id:
              type: string
              description: хэш Docker образа/контейнера
              example: 583407a61900
            name:
              type: string
              example: library/ann
            tag:
              type: string
              example: v1
        docker_type:
          type: string
          description: Docker состояние ИНС
          example: image
          enum:
            - image
            - container
        weights:
          type: string
          example: ann111_weights.pkl
        hyper_params:
          type: integer
          example: ann111_params.pkl
        thumbnail:
          type: string
          example: ann111_thumb.jpg
        description:
          type: string
          example: Описание ИНС
        author:
          type: object
          description: Краткое описание пользователя
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Петров Иван Иванович
        dt_created:
          type: string
          example: '2023-12-26 15:00:00'
    AnnRef:
      type: object
      description: Краткое описание ИНС
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: ИНС 123
    Anns:
      type: object
      description: Список ИНС
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание ИНС
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: ИНС 123
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              parent:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              docker:
                type: object
                description: Краткое описание образа
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  name:
                    type: string
                    example: library/ann
                  tag:
                    type: string
                    example: v1
              docker_type:
                type: string
                description: Docker состояние ИНС
                example: image
                enum:
                  - image
                  - container
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
    AnnParams:
      type: object
      description: Параметры создания/изменения ИНС
      required:
        - name
        - docker_hash
        - weights
        - hyper_params
        - description
      properties:
        name:
          type: string
          example: ИНС 123
        docker_hash:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        weights:
          type: string
          example: ann111_weights.pkl
        hyper_params:
          type: integer
          example: ann111_params.pkl
        thumbnail:
          type: string
          example: ann111_thumb.jpg
        description:
          type: string
          example: Описание ИНС
    AnnsFilter:
      type: object
      description: Параметры фильтрации списка ИНС
      required:
        - docker_type
      properties:
        name:
          description: Фрагмент наименования или описания
          type: string
        docker_type:
          type: string
          description: Docker состояние ИНС
          example: image
          enum:
            - image
            - container
    AnnStatistics:
      type: object
      description: Статистика ИНС
      additionalProperties:
        type: string
    AnnStatisticsTxt:
      type: string
      description: Статистика ИНС в текстовом виде
    AnnClasters:
      type: object
      description: Результаты кластеризации
      additionalProperties:
        type: string
    AnnClastersTxt:
      type: string
      description: Результаты кластеризации в текстовом виде
    AnnExportParams:
      type: object
      description: Параметры экспорта ИНС
      required:
        - docker_type
      properties:
        image_id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        weights:
          description: Путь к файлу весов
          example: /project/dataset/weights.pkl
          type: string
        export:
          description: Путь к файлу архива
          example: /project/export/ann.tar.gz
          type: string
    UserRole:
      type: string
      description: Роль пользователя
      example: manager
      enum:
        - admin
        - manager
        - operator
    LoginParams:
      type: object
      description: Параметры входа пользователя
      required:
        - login
        - password
      properties:
        login:
          type: string
          description: Логин пользователя
          example: user
        password:
          type: string
          description: Пароль пользователя
          example: password
    UserIds:
      type: array
      description: Список ID пользователей
      items:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    User:
      type: object
      description: Описание пользователя
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Петров Иван Иванович
        role:
          type: string
          description: Роль пользователя
          example: manager
          enum:
            - admin
            - manager
            - operator
        capabilities:
          type: array
          description: Права пользователя (перечень кодов прав)
          items:
            type: string
            example: project_edit
        login:
          type: string
          example: petrov
        description:
          type: string
          example: Главный менеджер
    UserRef:
      type: object
      description: Краткое описание пользователя
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        name:
          type: string
          example: Петров Иван Иванович
    UserCapabilities:
      type: array
      description: Права пользователя (перечень кодов прав)
      items:
        type: string
        example: project_edit
    Users:
      type: object
      description: Список пользователей
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание пользователя
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Петров Иван Иванович
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              capabilities:
                type: array
                description: Права пользователя (перечень кодов прав)
                items:
                  type: string
                  example: project_edit
              login:
                type: string
                example: petrov
              description:
                type: string
                example: Главный менеджер
    UserParams:
      type: object
      description: Параметры создания/изменения пользователя
      required:
        - name
        - login
        - role
        - description
      properties:
        name:
          type: string
          example: User
        login:
          type: string
          example: user
        password:
          type: string
          example: password
        role:
          type: string
          description: Роль пользователя
          example: manager
          enum:
            - admin
            - manager
            - operator
        description:
          type: string
          example: user description
    UsersFilter:
      type: object
      description: Параметры фильтрации списка пользователей
      properties:
        name:
          description: Фрагмент имени, логина или описания
          type: string
        role:
          type: string
          description: Роль пользователя
          example: manager
          enum:
            - admin
            - manager
            - operator
    DockerInfo:
      type: object
      description: Описание Docker
      properties:
        version:
          type: string
        containers:
          type: object
          properties:
            running:
              type: integer
            paused:
              type: integer
            stopped:
              type: integer
            total:
              type: integer
        images:
          type: integer
        cpus:
          type: integer
        mem:
          type: string
    DockerInfoTxt:
      type: string
      description: Описание Docker в текстовом виде
      example: |-
        Server:
         Containers: 14
         Running: 3
         Paused: 1
         Stopped: 10
         Images: 52
         Server Version: 23.0.3
         ...
    ImageLocation:
      type: string
      description: Расположение образа
      example: registry
      enum:
        - registry
        - server
    Image:
      type: object
      description: Описание образа
      required:
        - id
      properties:
        id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        name:
          type: string
          example: library/ann
        tag:
          type: string
          example: v1
        location:
          type: string
          description: Расположение образа
          example: registry
          enum:
            - registry
            - server
        created_at:
          type: string
          example: '2023-12-26 15:00:00'
        size:
          type: string
          example: 1.07 GB
        comment:
          type: string
          description: Сообщение коммита. Используется при получении истории слоев образа
          example: Added Apache to Fedora base image
        archive:
          type: string
          description: >-
            Путь к файлу архива образа. Заполняется после запроса на
            формирование архива по его готовности
    ImageRef:
      type: object
      description: Краткое описание образа
      required:
        - id
      properties:
        id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        name:
          type: string
          example: library/ann
        tag:
          type: string
          example: v1
    ImageParams:
      type: object
      description: Параметры создания образа
      properties:
        repository:
          type: string
          description: Наименование образа в формате <путь/репозиторий>
          example: library/petrov_ann
        tag:
          type: string
          description: Тэг образа
          example: v1.3
        message:
          type: string
          description: Сообщение коммита
          example: teached by Petrov
    Images:
      type: object
      description: Список образов
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание образа
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              name:
                type: string
                example: library/ann
              tag:
                type: string
                example: v1
              location:
                type: string
                description: Расположение образа
                example: registry
                enum:
                  - registry
                  - server
              created_at:
                type: string
                example: '2023-12-26 15:00:00'
              size:
                type: string
                example: 1.07 GB
              comment:
                type: string
                description: >-
                  Сообщение коммита. Используется при получении истории слоев
                  образа
                example: Added Apache to Fedora base image
              archive:
                type: string
                description: >-
                  Путь к файлу архива образа. Заполняется после запроса на
                  формирование архива по его готовности
    ImagesFilter:
      type: object
      description: Параметры фильтрации списка образов
      properties:
        label:
          type: string
        before:
          type: string
        since:
          type: string
    Container:
      type: object
      description: Описание контейнера
      required:
        - id
      properties:
        id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        image:
          type: object
          description: Краткое описание образа
          required:
            - id
          properties:
            id:
              type: string
              description: хэш Docker образа/контейнера
              example: 583407a61900
            name:
              type: string
              example: library/ann
            tag:
              type: string
              example: v1
        command:
          type: string
          example: top
        names:
          type: string
          example: ann
        ports:
          type: string
          example: 8080/tcp
        created_at:
          type: string
          example: '2023-12-26 15:00:00'
        status:
          type: string
          example: Up 1 hour
    ContainerOrError:
      oneOf:
        - type: object
          description: Описание контейнера
          required:
            - id
          properties:
            id:
              type: string
              description: хэш Docker образа/контейнера
              example: 583407a61900
            image:
              type: object
              description: Краткое описание образа
              required:
                - id
              properties:
                id:
                  type: string
                  description: хэш Docker образа/контейнера
                  example: 583407a61900
                name:
                  type: string
                  example: library/ann
                tag:
                  type: string
                  example: v1
            command:
              type: string
              example: top
            names:
              type: string
              example: ann
            ports:
              type: string
              example: 8080/tcp
            created_at:
              type: string
              example: '2023-12-26 15:00:00'
            status:
              type: string
              example: Up 1 hour
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    ContainerWithDataset:
      allOf:
        - type: object
          description: Описание контейнера
          required:
            - id
          properties:
            id:
              type: string
              description: хэш Docker образа/контейнера
              example: 583407a61900
            image:
              type: object
              description: Краткое описание образа
              required:
                - id
              properties:
                id:
                  type: string
                  description: хэш Docker образа/контейнера
                  example: 583407a61900
                name:
                  type: string
                  example: library/ann
                tag:
                  type: string
                  example: v1
            command:
              type: string
              example: top
            names:
              type: string
              example: ann
            ports:
              type: string
              example: 8080/tcp
            created_at:
              type: string
              example: '2023-12-26 15:00:00'
            status:
              type: string
              example: Up 1 hour
        - type: object
          description: Описание контейнера с привязкой к датасету
          properties:
            dataset_id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
    ContainerWithDatasetOrError:
      oneOf:
        - allOf:
            - type: object
              description: Описание контейнера
              required:
                - id
              properties:
                id:
                  type: string
                  description: хэш Docker образа/контейнера
                  example: 583407a61900
                image:
                  type: object
                  description: Краткое описание образа
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: хэш Docker образа/контейнера
                      example: 583407a61900
                    name:
                      type: string
                      example: library/ann
                    tag:
                      type: string
                      example: v1
                command:
                  type: string
                  example: top
                names:
                  type: string
                  example: ann
                ports:
                  type: string
                  example: 8080/tcp
                created_at:
                  type: string
                  example: '2023-12-26 15:00:00'
                status:
                  type: string
                  example: Up 1 hour
            - type: object
              description: Описание контейнера с привязкой к датасету
              properties:
                dataset_id:
                  type: string
                  description: UUID
                  example: 550e8400-e29b-41d4-a716-446655440001
                  format: uuid
        - type: object
          description: Сообщение ошибки обработки данных
          properties:
            msg:
              type: string
              description: текст сообщения ошибки
            details:
              type: object
              description: детали ошибки, например, имя ошибочного файла и т.д.
              additionalProperties:
                type: string
    ContainerRef:
      type: object
      description: Краткое описание контейнера
      required:
        - id
      properties:
        id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        image:
          type: object
          description: Краткое описание образа
          required:
            - id
          properties:
            id:
              type: string
              description: хэш Docker образа/контейнера
              example: 583407a61900
            name:
              type: string
              example: library/ann
            tag:
              type: string
              example: v1
        state:
          type: string
          example: running
          enum:
            - created
            - running
            - restarting
            - exited
            - paused
            - removing
            - dead
    ContainerParams:
      type: object
      description: параметры создания контейнера
      required:
        - weights
        - in_dir
        - out_dir
      properties:
        ann_mode:
          type: string
          description: Режим работы контейнера
          example: teach
          enum:
            - teach
            - eval
        name:
          type: string
          description: Наименование контейнера
          example: petrov_ann
        weights:
          type: string
          description: Путь к папке/файлу весовых коэффициентов
          example: /project/dataset/weights.pkl
        hyper_params:
          type: string
          description: Доп. параметры запуска контейнера ИНС (опционально)
          example: /project/dataset/hyper_params.pkl
        in_dir:
          type: string
          description: Путь к директории входных данных
          example: /project/dataset/in_dir
        out_dir:
          type: string
          description: Путь к директории выходных данных
          example: /project/dataset/out_dir
        markups:
          type: string
          description: Путь к директории с входной разметкой
          example: /project/dataset/markups
        video_storage:
          type: string
          description: Путь к хранилищу видеофайлов
          example: /video_storage
        network:
          type: string
          description: Имя сети, к которой подсоединить контейнер
          example: camino-net
    Containers:
      type: object
      description: Список контейнеров
      properties:
        pagination:
          type: object
          description: Настройки пагинации
          properties:
            page:
              type: integer
              example: 1
            pageSize:
              type: integer
              example: 15
            totalItems:
              type: integer
              example: 33
            totalPages:
              type: integer
              example: 6
        items:
          type: array
          items:
            type: object
            description: Описание контейнера
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              image:
                type: object
                description: Краткое описание образа
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  name:
                    type: string
                    example: library/ann
                  tag:
                    type: string
                    example: v1
              command:
                type: string
                example: top
              names:
                type: string
                example: ann
              ports:
                type: string
                example: 8080/tcp
              created_at:
                type: string
                example: '2023-12-26 15:00:00'
              status:
                type: string
                example: Up 1 hour
    ContainersFilter:
      type: object
      description: Параметры фильтрации списка контейнеров
      properties:
        id:
          type: string
        name:
          type: string
        label:
          type: string
        status:
          type: string
        before:
          type: string
        since:
          type: string
    ContainerStatus:
      type: string
      example: running
      enum:
        - created
        - running
        - restarting
        - exited
        - paused
        - removing
        - dead
    ContainerState:
      type: object
      description: Описание состояния контейнера
      required:
        - id
      properties:
        id:
          type: string
          description: хэш Docker образа/контейнера
          example: 583407a61900
        state:
          type: string
          example: running
          enum:
            - created
            - running
            - restarting
            - exited
            - paused
            - removing
            - dead
        cpu:
          type: string
          example: 0.15%
        mem:
          type: string
          example: 0.25%
        mem_use:
          type: string
          example: 25MiB
        size:
          type: string
          example: 1.07 GB
    ContainersStates:
      type: object
      description: Список состояний контейнеров
      properties:
        items:
          type: array
          items:
            type: object
            description: Описание состояния контейнера
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              state:
                type: string
                example: running
                enum:
                  - created
                  - running
                  - restarting
                  - exited
                  - paused
                  - removing
                  - dead
              cpu:
                type: string
                example: 0.15%
              mem:
                type: string
                example: 0.25%
              mem_use:
                type: string
                example: 25MiB
              size:
                type: string
                example: 1.07 GB
    MonitorWidget:
      type: object
      description: Описание виджета мониторинга
      properties:
        id:
          type: string
        title:
          type: string
        source:
          type: string
          description: ссылка на внешнее содержимое контейнера
        content:
          type: string
          description: HTML содержимое контейнера, если не указан source
        noResize:
          type: boolean
        x:
          type: integer
        'y':
          type: integer
        w:
          type: integer
        h:
          type: integer
    ContainerMonitor:
      type: object
      description: Список виджетов для мониторинга контейнера
      properties:
        items:
          type: array
          items:
            type: object
            description: Описание виджета мониторинга
            properties:
              id:
                type: string
              title:
                type: string
              source:
                type: string
                description: ссылка на внешнее содержимое контейнера
              content:
                type: string
                description: HTML содержимое контейнера, если не указан source
              noResize:
                type: boolean
              x:
                type: integer
              'y':
                type: integer
              w:
                type: integer
              h:
                type: integer
    StartEventParams:
      type: object
      description: Сообщение начала обработки данных
      properties:
        msg:
          type: string
          description: текст сообщения
        details:
          type: object
          description: детали сообщения
          additionalProperties:
            type: string
    ProgressEventParams:
      type: object
      description: Сообщение прогресса обработки данных
      properties:
        stage:
          type: string
          description: номер этапа обработки и сколько всего этапов, например "1 из 3"
          example: 1 of 3
        progress:
          type: number
          description: процент выполнения обработки на данном этапе
          example: 35.6
        statistics:
          type: object
          description: объект статистических данных
          properties:
            out_file:
              type: string
              description: имя выходного файла с разметкой (для импорта)
              example: /out/markups_01.json
            train_error:
              type: number
              description: ошибка на обучающих данных
              example: 10.34
            test_error:
              type: number
              description: ошибка на тестовых данных
              example: 15.88
            chains_count:
              type: integer
              description: количество цепочек
              example: 305
            markups_count:
              type: integer
              description: количество примитивов
              example: 10054
    ErrorEventParams:
      type: object
      description: Сообщение ошибки обработки данных
      properties:
        msg:
          type: string
          description: текст сообщения ошибки
        details:
          type: object
          description: детали ошибки, например, имя ошибочного файла и т.д.
          additionalProperties:
            type: string
    EndEventParams:
      type: object
      description: Сообщение окончания обработки данных
      properties:
        out_files:
          type: array
          items:
            type: string
            description: Имя выходного файла
        chains_count:
          type: array
          items:
            type: integer
            description: Количество цепочек по файлам
        markups_count:
          type: array
          items:
            type: integer
            description: Количество примитивов по файлам
    EventTypes:
      type: string
      description: Типы событий
      example: start
      enum:
        - start
        - error
        - end
    Notification:
      type: object
      description: Уведомление
      required:
        - id
      properties:
        id:
          type: string
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
          format: uuid
        dt_event:
          type: string
          example: '2023-12-26 15:00:00'
        net:
          type: object
          description: Краткое описание ИНС
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: ИНС 123
        dataset:
          type: object
          description: Краткое описание датасета
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Датасет 1-1
            type:
              type: string
              description: Тип датасета
              example: initial
              enum:
                - initial
                - frame
                - subframe
                - skeleton
        project:
          type: object
          description: Краткое описание проекта
          required:
            - id
          properties:
            id:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
            name:
              type: string
              example: Проект 1
            type:
              type: string
              description: Тип проекта
              example: teach
              enum:
                - teach
                - eval
        event_type:
          type: string
          description: Типы событий
          example: start
          enum:
            - start
            - error
            - end
        msg:
          type: string
          example: Текст сообщения
        is_new:
          type: integer
          example: 1
    Notifications:
      type: object
      description: Список уведомлений
      properties:
        items:
          type: array
          items:
            type: object
            description: Уведомление
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              dt_event:
                type: string
                example: '2023-12-26 15:00:00'
              net:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              event_type:
                type: string
                description: Типы событий
                example: start
                enum:
                  - start
                  - error
                  - end
              msg:
                type: string
                example: Текст сообщения
              is_new:
                type: integer
                example: 1
  parameters:
    _deleteMethod:
      name: _method
      in: query
      description: Алиас для замены DELETE
      schema:
        type: string
      example: DELETE
    _putMethod:
      name: _method
      in: query
      description: Алиас для замены PUT
      schema:
        type: string
      example: PUT
    _csrf:
      name: X-CSRF-Token
      in: header
      description: CSRF токен
      required: true
      schema:
        type: string
        description: CSRF token
        example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    _jwt:
      name: X-JWT-Token
      in: header
      description: JWT токен
      required: true
      schema:
        type: object
        description: JWT токен
        properties:
          jwt:
            type: string
            example: >-
              eyJ0eXAwcvvcb1QiLCJhbGciOsdfsUzI1NiJ9.eyJpZCI6IjEzMzciLCJ1c2VybmFtZSI6ImJpem9uZSIswwwfcI6MTU5NDIwOTYwMCwicm9sZSI6InVzZXIifQ.ZvkYYnyM92xvxcvNW9_hSis7_x3_9rymsDcvcbvuOcc1I
    _page:
      name: _page
      in: query
      description: Страница пагинации
      schema:
        type: integer
      example: 33
    _pageSize:
      name: _pageSize
      in: query
      description: Размер страницы, опционально, если не задан, то возвращать все записи
      schema:
        type: integer
      example: 15
    _sort:
      name: _sort
      in: query
      description: Поля сортировки
      schema:
        type: string
      example: +name,-date
    _rootId:
      name: _rootId
      in: query
      description: >-
        ID узла, потомков которого требуется вернуть, включая его. опционально,
        если отсутствует, то вернуть все узлы, начиная с корня дерева
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    _levels:
      name: _levels
      in: query
      description: >-
        количество уровней дерева, опционально, если отсутствует, то вернуть все
        уровни дерева
      example: 2
      schema:
        type: integer
    projectId:
      name: projectId
      in: path
      description: ID проекта
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    projectsFilter:
      name: projectsFilter
      description: Фильтр на список проектов
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка проектов
        required:
          - type
        properties:
          name:
            description: Фрагмент наименования или описания
            type: string
          type:
            type: string
            description: Тип проекта
            example: teach
            enum:
              - teach
              - eval
          create_period:
            type: string
            description: Период времени
            example: 17.04.2024 - 10.05.2024
      style: deepObject
    datasetId:
      name: datasetId
      in: path
      description: ID датасета
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    datasetsFilter:
      name: datasetsFilter
      description: Фильтр на список датасетов проекта
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка датасетов
        properties:
          name:
            description: Фрагмент наименования или описания
            type: string
          type:
            type: string
            description: Тип датасета
            example: initial
            enum:
              - initial
              - frame
              - subframe
              - skeleton
          state:
            type: string
            description: Состояние датасета
            example: prepare
            enum:
              - prepare
              - calculating
              - ready
      style: deepObject
    fileId:
      name: fileId
      in: path
      description: ID файла датасета
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    datasetFilesFilter:
      name: datasetFilesFilter
      description: Фильтр на список файлов датасета проекта
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка файлов датасета
        properties:
          name:
            description: Фрагмент наименования, метки или описания
            type: string
          is_marked:
            type: integer
            example: 1
      style: deepObject
    chainId:
      name: chainId
      in: path
      description: ID цепочки примитивов датасета
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    datasetChainsFilter:
      name: datasetChainsFilter
      description: Фильтр на список цепочек датасета проекта
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка цепочек примитивов датасета
        properties:
          name:
            description: Фрагмент наименования цепочки
          origin:
            description: Источник получения цепочки
            type: string
            example: manual
            enum:
              - manual
              - auto
              - adjusted
          file_ids:
            description: Список ID файлов датасетов проектов
            type: array
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
          t_begin:
            description: Момент времени начала целевого интервала цепочек
            type: integer
          t_end:
            description: Момент времени конца целевого интервала цепочек
            type: integer
      style: deepObject
    markupId:
      name: markupId
      in: path
      description: ID примитива датасета
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    markupsFilter:
      name: markupsFilter
      description: Фильтр на примитивы цепочек датасета проекта
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка цепочек примитивов датасета
        properties:
          name:
            description: Фрагмент наименования цепочки
          origin:
            description: Источник получения цепочки
            type: string
            example: manual
            enum:
              - manual
              - auto
              - adjusted
          file_ids:
            description: Список ID файлов датасетов проектов
            type: array
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
          t_begin:
            description: Момент времени начала целевого интервала цепочек
            type: integer
          t_end:
            description: Момент времени конца целевого интервала цепочек
            type: integer
      style: deepObject
    annId:
      name: annId
      in: path
      description: ID ИНС
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    annsFilter:
      name: annsFilter
      description: Фильтр на список ИНС
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка ИНС
        required:
          - docker_type
        properties:
          name:
            description: Фрагмент наименования или описания
            type: string
          docker_type:
            type: string
            description: Docker состояние ИНС
            example: image
            enum:
              - image
              - container
      style: deepObject
    userId:
      name: userId
      in: path
      description: ID пользователя
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
    usersFilter:
      name: usersFilter
      description: Фильтр на список пользователей
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка пользователей
        properties:
          name:
            description: Фрагмент имени, логина или описания
            type: string
          role:
            type: string
            description: Роль пользователя
            example: manager
            enum:
              - admin
              - manager
              - operator
      style: deepObject
    imageId:
      name: imageId
      in: path
      description: Хэш образа
      required: true
      schema:
        type: string
      example: 77af4d6b9913
    imagesFilter:
      name: imagesFilter
      description: Фильтр на список образов
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка образов
        properties:
          label:
            type: string
          before:
            type: string
          since:
            type: string
      style: deepObject
    containerId:
      name: containerId
      in: path
      description: Хэш контейнера
      required: true
      schema:
        type: string
      example: 30557a29d5ab
    containersFilter:
      name: containersFilter
      description: Фильтр на список контейнеров
      in: query
      schema:
        type: object
        description: Параметры фильтрации списка контейнеров
        properties:
          id:
            type: string
          name:
            type: string
          label:
            type: string
          status:
            type: string
          before:
            type: string
          since:
            type: string
      style: deepObject
    notificationId:
      name: notificationId
      in: path
      description: ID уведомления
      required: true
      schema:
        type: string
        description: UUID
        example: 550e8400-e29b-41d4-a716-446655440001
        format: uuid
  responses:
    Error:
      description: Неизвестная ошибка
      content:
        application/json:
          schema:
            type: object
            description: Описание ошибки
            required:
              - code
              - message
            properties:
              code:
                type: integer
                example: XXX
              message:
                type: string
                example: Unknown error
              details:
                type: object
                description: Объект "ключ-значение"
                additionalProperties:
                  type: string
    ClientError:
      description: Ошибка клиента
      content:
        application/json:
          schema:
            type: object
            description: Ошибка клиента
            required:
              - code
              - message
            properties:
              code:
                type: integer
                example: 400
              message:
                type: string
                example: Bad Request
              details:
                type: object
                description: Объект "ключ-значение"
                additionalProperties:
                  type: string
    ServerError:
      description: Ошибка сервера
      content:
        application/json:
          schema:
            type: object
            description: Ошибка сервера
            required:
              - code
              - message
            properties:
              code:
                type: integer
                example: 500
              message:
                type: string
                example: Internal Server Error
              details:
                type: object
                description: Объект "ключ-значение"
                additionalProperties:
                  type: string
    TarDownload:
      description: Архив для скачивания
      content:
        application/x-tar:
          schema:
            type: string
            description: Двоичный файл
            format: binary
    JWT:
      description: >-
        Успешная аутентификация (возврат JSON объекта с JWT или HttpOnly куки с
        JWT)
      content:
        application/json:
          schema:
            type: object
            description: JWT токен
            properties:
              jwt:
                type: string
                example: >-
                  eyJ0eXAwcvvcb1QiLCJhbGciOsdfsUzI1NiJ9.eyJpZCI6IjEzMzciLCJ1c2VybmFtZSI6ImJpem9uZSIswwwfcI6MTU5NDIwOTYwMCwicm9sZSI6InVzZXIifQ.ZvkYYnyM92xvxcvNW9_hSis7_x3_9rymsDcvcbvuOcc1I
      links:
        logoutUser:
          operationId: logout
    LoginUserForm:
      description: Форма входа в систему
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    CreateProjectForm:
      description: Форма создания проекта
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    Project:
      description: Информация о проекте
      content:
        application/json:
          schema:
            type: object
            description: Описание проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Проект 1
              type:
                type: string
                description: Тип проекта
                example: teach
                enum:
                  - teach
                  - eval
              description:
                type: string
                example: Описание проекта 1
              datasets:
                type: object
                description: Количество датасетов проекта по группам
                properties:
                  prepare:
                    type: number
                    example: 4
                  calculating:
                    type: number
                    example: 1
                  ready:
                    type: number
                    example: 2
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateProject:
          operationId: updateProject
          parameters:
            projectId: $request.path.projectId
        deleteProject:
          operationId: deleteProject
          parameters:
            projectId: $request.path.projectId
    Projects:
      description: Список проектов
      content:
        application/json:
          schema:
            type: object
            description: Список проектов
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: Проект 1
                    type:
                      type: string
                      description: Тип проекта
                      example: teach
                      enum:
                        - teach
                        - eval
                    description:
                      type: string
                      example: Описание проекта 1
                    datasets:
                      type: object
                      description: Количество датасетов проекта по группам
                      properties:
                        prepare:
                          type: number
                          example: 4
                        calculating:
                          type: number
                          example: 1
                        ready:
                          type: number
                          example: 2
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    CreateDatasetForm:
      description: Форма создания датасета проекта
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    Dataset:
      description: Информация о датасете проекте
      content:
        application/json:
          schema:
            type: object
            description: Описание датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Датасет 1-1
              type:
                type: string
                description: Тип датасета
                example: initial
                enum:
                  - initial
                  - frame
                  - subframe
                  - skeleton
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              source:
                type: string
                example: ftp://dt1-1.datasets
              nn_original:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_online:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              nn_teached:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              description:
                type: string
                example: Описание датасета 1-1
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              dt_calculated:
                type: string
                example: '2023-12-26 16:00:00'
              is_calculated:
                type: integer
                example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateProjectDataset:
          operationId: updateProjectDataset
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
        deleteProjectDataset:
          operationId: deleteProjectDataset
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
    Datasets:
      description: Список датасетов проекта
      content:
        application/json:
          schema:
            type: object
            description: Список датасетов проектов
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: Датасет 1-1
                    type:
                      type: string
                      description: Тип датасета
                      example: initial
                      enum:
                        - initial
                        - frame
                        - subframe
                        - skeleton
                    parent_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    project:
                      type: object
                      description: Краткое описание проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Проект 1
                        type:
                          type: string
                          description: Тип проекта
                          example: teach
                          enum:
                            - teach
                            - eval
                    source:
                      type: string
                      example: ftp://dt1-1.datasets
                    nn_original:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    nn_online:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    nn_teached:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    description:
                      type: string
                      example: Описание датасета 1-1
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
                    dt_calculated:
                      type: string
                      example: '2023-12-26 16:00:00'
                    is_calculated:
                      type: integer
                      example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    DatasetsNoPagination:
      description: Список датасетов проекта
      content:
        application/json:
          schema:
            type: object
            description: Список датасетов проектов
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Описание датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: Датасет 1-1
                    type:
                      type: string
                      description: Тип датасета
                      example: initial
                      enum:
                        - initial
                        - frame
                        - subframe
                        - skeleton
                    parent_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    project:
                      type: object
                      description: Краткое описание проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Проект 1
                        type:
                          type: string
                          description: Тип проекта
                          example: teach
                          enum:
                            - teach
                            - eval
                    source:
                      type: string
                      example: ftp://dt1-1.datasets
                    nn_original:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    nn_online:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    nn_teached:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    description:
                      type: string
                      example: Описание датасета 1-1
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
                    dt_calculated:
                      type: string
                      example: '2023-12-26 16:00:00'
                    is_calculated:
                      type: integer
                      example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    DatasetFile:
      description: Информация о файле датасета проекте
      content:
        application/json:
          schema:
            type: object
            description: Описание файла датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: drive/dir0/dir1/file111.mpeg
              label:
                type: string
                example: Файл 1-1-1
              subset_type:
                type: string
                description: Поднабор, куда входит файл
                example: teach
                enum:
                  - teach
                  - test
                  - control
              thumbnail:
                type: string
                example: file111_thumb.jpg
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              description:
                type: string
                example: Описание файла 1-1-1
              attributes:
                type: object
                description: Объект "ключ-значение"
                additionalProperties:
                  type: string
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              dt_uploaded:
                type: string
                example: '2023-12-26 15:00:00'
              is_marked:
                type: integer
                example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateProjectDatasetFile:
          operationId: updateProjectDatasetFile
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            fileId: $request.path.fileId
        deleteProjectDatasetFile:
          operationId: deleteProjectDatasetFile
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            fileId: $request.path.fileId
    DatasetFileStream:
      description: Видеофайл
      content:
        video/mp4:
          schema:
            type: string
            description: Двоичный файл
            format: binary
    DatasetFileInfo:
      description: Информация о видеофайле
      content:
        application/json:
          schema:
            type: object
            description: Объект "ключ-значение"
            additionalProperties:
              type: string
    DatasetFiles:
      description: Список файлов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Список файлов датасетов проектов
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание файла датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: drive/dir0/dir1/file111.mpeg
                    label:
                      type: string
                      example: Файл 1-1-1
                    subset_type:
                      type: string
                      description: Поднабор, куда входит файл
                      example: teach
                      enum:
                        - teach
                        - test
                        - control
                    thumbnail:
                      type: string
                      example: file111_thumb.jpg
                    dataset:
                      type: object
                      description: Краткое описание датасета
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Датасет 1-1
                        type:
                          type: string
                          description: Тип датасета
                          example: initial
                          enum:
                            - initial
                            - frame
                            - subframe
                            - skeleton
                    project:
                      type: object
                      description: Краткое описание проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Проект 1
                        type:
                          type: string
                          description: Тип проекта
                          example: teach
                          enum:
                            - teach
                            - eval
                    description:
                      type: string
                      example: Описание файла 1-1-1
                    attributes:
                      type: object
                      description: Объект "ключ-значение"
                      additionalProperties:
                        type: string
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
                    dt_uploaded:
                      type: string
                      example: '2023-12-26 15:00:00'
                    is_marked:
                      type: integer
                      example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    DatasetChain:
      description: Информация о цепочке примитивов датасета проекте
      content:
        application/json:
          schema:
            type: object
            description: Описание цепочки примитивов датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Цепочка 1-1-1-1
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              file:
                type: object
                description: Краткое описание файла датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Файл 1-1-1
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              color:
                type: string
                example: ff0033aa
              origin:
                type: string
                description: Источник получения цепочки
                example: manual
                enum:
                  - manual
                  - auto
                  - adjusted
              description:
                type: string
                example: Описание цепочки 1-1-1-1
              vector:
                type: string
              in_files:
                type: array
                description: >-
                  Список ID файлов датасетов проектов с указанием интервалов
                  времени
                items:
                  type: object
                  properties:
                    file_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    t_begin:
                      type: integer
                    t_end:
                      type: integer
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
              interval:
                type: string
                example: 10.34:11.6
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateProjectDatasetChain:
          operationId: updateProjectDatasetChain
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            chainId: $request.path.chainId
        deleteProjectDatasetChain:
          operationId: deleteProjectDatasetChain
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            chainId: $request.path.chainId
    DatasetChains:
      description: Список цепочек примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Список цепочек примитивов датасетов проектов
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание цепочки примитивов датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: Цепочка 1-1-1-1
                    dataset:
                      type: object
                      description: Краткое описание датасета
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Датасет 1-1
                        type:
                          type: string
                          description: Тип датасета
                          example: initial
                          enum:
                            - initial
                            - frame
                            - subframe
                            - skeleton
                    file:
                      type: object
                      description: Краткое описание файла датасета
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Файл 1-1-1
                    project:
                      type: object
                      description: Краткое описание проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Проект 1
                        type:
                          type: string
                          description: Тип проекта
                          example: teach
                          enum:
                            - teach
                            - eval
                    color:
                      type: string
                      example: ff0033aa
                    origin:
                      type: string
                      description: Источник получения цепочки
                      example: manual
                      enum:
                        - manual
                        - auto
                        - adjusted
                    description:
                      type: string
                      example: Описание цепочки 1-1-1-1
                    vector:
                      type: string
                    in_files:
                      type: array
                      description: >-
                        Список ID файлов датасетов проектов с указанием
                        интервалов времени
                      items:
                        type: object
                        properties:
                          file_id:
                            type: string
                            description: UUID
                            example: 550e8400-e29b-41d4-a716-446655440001
                            format: uuid
                          t_begin:
                            type: integer
                          t_end:
                            type: integer
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
                    interval:
                      type: string
                      example: 10.34:11.6
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    DatasetChainThumbnail:
      description: Файл изображения
      content:
        image/png:
          schema:
            type: string
            description: Двоичный файл
            format: binary
    DatasetMarkup:
      description: Информация о примитиве цепочки примитивов датасета проекте
      content:
        application/json:
          schema:
            type: object
            description: Описание примитива датасета проекта
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              previous_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание примитива 1-1-1-1-1
              vector:
                type: string
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              mark_time:
                type: integer
              mark_path:
                type: string
              is_stop:
                type: integer
                example: 0
              chain:
                type: object
                description: Краткое описание цепочки примитивов датасета проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Цепочка 1-1-1-1
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateProjectDatasetMarkup:
          operationId: updateProjectDatasetMarkup
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            markupId: $request.path.markupId
        deleteProjectDatasetMarkup:
          operationId: deleteProjectDatasetMarkup
          parameters:
            projectId: $request.path.projectId
            datasetId: $request.path.datasetId
            markupId: $request.path.markupId
    DatasetMarkups:
      description: Список примитивов цепочки примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Список примитивов датасетов проектов
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Описание примитива датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    parent_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    previous_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    description:
                      type: string
                      example: Описание примитива 1-1-1-1-1
                    vector:
                      type: string
                    file_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    mark_time:
                      type: integer
                    mark_path:
                      type: string
                    is_stop:
                      type: integer
                      example: 0
                    chain:
                      type: object
                      description: Краткое описание цепочки примитивов датасета проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Цепочка 1-1-1-1
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    DatasetMarkupsRefs:
      description: Список кратких примитивов цепочки примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Список кратких примитивов датасетов проектов
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Краткое описание примитива датасета проекта
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    file_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    vector:
                      type: string
                    mark_time:
                      type: integer
                    mark_path:
                      type: string
                    is_stop:
                      type: integer
                      example: 0
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    CreateAnnForm:
      description: Форма создания ИНС
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    Ann:
      description: Информация о ИНС
      content:
        application/json:
          schema:
            type: object
            description: Описание ИНС
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: ИНС 123
              parent_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              parent:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              docker:
                type: object
                description: Краткое описание образа
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  name:
                    type: string
                    example: library/ann
                  tag:
                    type: string
                    example: v1
              docker_type:
                type: string
                description: Docker состояние ИНС
                example: image
                enum:
                  - image
                  - container
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
              author:
                type: object
                description: Краткое описание пользователя
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Петров Иван Иванович
              dt_created:
                type: string
                example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateAnn:
          operationId: updateAnn
          parameters:
            annId: $request.path.annId
        deleteAnn:
          operationId: deleteAnn
          parameters:
            annId: $request.path.annId
    Anns:
      description: Список ИНС
      content:
        application/json:
          schema:
            type: object
            description: Список ИНС
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание ИНС
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: ИНС 123
                    parent_id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    parent:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    docker:
                      type: object
                      description: Краткое описание образа
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: хэш Docker образа/контейнера
                          example: 583407a61900
                        name:
                          type: string
                          example: library/ann
                        tag:
                          type: string
                          example: v1
                    docker_type:
                      type: string
                      description: Docker состояние ИНС
                      example: image
                      enum:
                        - image
                        - container
                    weights:
                      type: string
                      example: ann111_weights.pkl
                    hyper_params:
                      type: integer
                      example: ann111_params.pkl
                    thumbnail:
                      type: string
                      example: ann111_thumb.jpg
                    description:
                      type: string
                      example: Описание ИНС
                    author:
                      type: object
                      description: Краткое описание пользователя
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Петров Иван Иванович
                    dt_created:
                      type: string
                      example: '2023-12-26 15:00:00'
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    AnnSettingsForm:
      description: Форма настроек ИНС
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    AnnStatistics:
      description: Статистика ИНС
      content:
        application/json:
          schema:
            type: object
            description: Статистика ИНС
            additionalProperties:
              type: string
        test/plain:
          schema:
            type: string
            description: Статистика ИНС в текстовом виде
    AnnClasters:
      description: Кластеризация
      content:
        application/json:
          schema:
            type: object
            description: Результаты кластеризации
            additionalProperties:
              type: string
        test/plain:
          schema:
            type: string
            description: Результаты кластеризации в текстовом виде
    AnnParams:
      description: Параметры ИНС
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения ИНС
            required:
              - name
              - docker_hash
              - weights
              - hyper_params
              - description
            properties:
              name:
                type: string
                example: ИНС 123
              docker_hash:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения ИНС
            required:
              - name
              - docker_hash
              - weights
              - hyper_params
              - description
            properties:
              name:
                type: string
                example: ИНС 123
              docker_hash:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
    CreateUserForm:
      description: Форма создания пользователя
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    User:
      description: Информация о пользователе
      content:
        application/json:
          schema:
            type: object
            description: Описание пользователя
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Петров Иван Иванович
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              capabilities:
                type: array
                description: Права пользователя (перечень кодов прав)
                items:
                  type: string
                  example: project_edit
              login:
                type: string
                example: petrov
              description:
                type: string
                example: Главный менеджер
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateUser:
          operationId: updateUser
          parameters:
            userId: $request.path.userId
        deleteUser:
          operationId: deleteUser
          parameters:
            userId: $request.path.userId
    UserCapabilities:
      description: Информация о правах пользователя
      content:
        application/json:
          schema:
            type: array
            description: Права пользователя (перечень кодов прав)
            items:
              type: string
              example: project_edit
    Users:
      description: Список пользователей
      content:
        application/json:
          schema:
            type: object
            description: Список пользователей
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание пользователя
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    name:
                      type: string
                      example: Петров Иван Иванович
                    role:
                      type: string
                      description: Роль пользователя
                      example: manager
                      enum:
                        - admin
                        - manager
                        - operator
                    capabilities:
                      type: array
                      description: Права пользователя (перечень кодов прав)
                      items:
                        type: string
                        example: project_edit
                    login:
                      type: string
                      example: petrov
                    description:
                      type: string
                      example: Главный менеджер
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    UserParams:
      description: Параметры пользователя
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения пользователя
            required:
              - name
              - login
              - role
              - description
            properties:
              name:
                type: string
                example: User
              login:
                type: string
                example: user
              password:
                type: string
                example: password
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              description:
                type: string
                example: user description
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения пользователя
            required:
              - name
              - login
              - role
              - description
            properties:
              name:
                type: string
                example: User
              login:
                type: string
                example: user
              password:
                type: string
                example: password
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              description:
                type: string
                example: user description
    DockerInfo:
      description: Информация о состоянии Docker (docker info)
      content:
        application/json:
          schema:
            type: object
            description: Описание Docker
            properties:
              version:
                type: string
              containers:
                type: object
                properties:
                  running:
                    type: integer
                  paused:
                    type: integer
                  stopped:
                    type: integer
                  total:
                    type: integer
              images:
                type: integer
              cpus:
                type: integer
              mem:
                type: string
        test/plain:
          schema:
            type: string
            description: Описание Docker в текстовом виде
            example: |-
              Server:
               Containers: 14
               Running: 3
               Paused: 1
               Stopped: 10
               Images: 52
               Server Version: 23.0.3
               ...
    Image:
      description: Информация о Docker-образе (docker images)
      content:
        application/json:
          schema:
            type: object
            description: Описание образа
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              name:
                type: string
                example: library/ann
              tag:
                type: string
                example: v1
              location:
                type: string
                description: Расположение образа
                example: registry
                enum:
                  - registry
                  - server
              created_at:
                type: string
                example: '2023-12-26 15:00:00'
              size:
                type: string
                example: 1.07 GB
              comment:
                type: string
                description: >-
                  Сообщение коммита. Используется при получении истории слоев
                  образа
                example: Added Apache to Fedora base image
              archive:
                type: string
                description: >-
                  Путь к файлу архива образа. Заполняется после запроса на
                  формирование архива по его готовности
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        pullImage:
          operationId: pullImage
          parameters:
            containerId: $request.path.imageId
        getImageHistory:
          operationId: getImageHistory
          parameters:
            containerId: $request.path.imageId
        createContainer:
          operationId: createContainer
          parameters:
            containerId: $request.path.imageId
        runContainer:
          operationId: runContainer
          parameters:
            containerId: $request.path.imageId
        pushImage:
          operationId: pushImage
          parameters:
            containerId: $request.path.imageId
        saveImage:
          operationId: saveImage
          parameters:
            containerId: $request.path.imageId
        downloadImage:
          operationId: downloadImage
          parameters:
            containerId: $request.path.imageId
        deleteImage:
          operationId: deleteImage
          parameters:
            containerId: $request.path.imageId
    Images:
      description: Список Docker-образов (docker images)
      content:
        application/json:
          schema:
            type: object
            description: Список образов
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание образа
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: хэш Docker образа/контейнера
                      example: 583407a61900
                    name:
                      type: string
                      example: library/ann
                    tag:
                      type: string
                      example: v1
                    location:
                      type: string
                      description: Расположение образа
                      example: registry
                      enum:
                        - registry
                        - server
                    created_at:
                      type: string
                      example: '2023-12-26 15:00:00'
                    size:
                      type: string
                      example: 1.07 GB
                    comment:
                      type: string
                      description: >-
                        Сообщение коммита. Используется при получении истории
                        слоев образа
                      example: Added Apache to Fedora base image
                    archive:
                      type: string
                      description: >-
                        Путь к файлу архива образа. Заполняется после запроса на
                        формирование архива по его готовности
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    Container:
      description: Информация о Docker-контейнере (docker ps)
      content:
        application/json:
          schema:
            type: object
            description: Описание контейнера
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              image:
                type: object
                description: Краткое описание образа
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  name:
                    type: string
                    example: library/ann
                  tag:
                    type: string
                    example: v1
              command:
                type: string
                example: top
              names:
                type: string
                example: ann
              ports:
                type: string
                example: 8080/tcp
              created_at:
                type: string
                example: '2023-12-26 15:00:00'
              status:
                type: string
                example: Up 1 hour
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        getContainerState:
          operationId: getContainerState
          parameters:
            containerId: $request.path.containerId
        startContainer:
          operationId: startContainer
          parameters:
            containerId: $request.path.containerId
        stopContainer:
          operationId: stopContainer
          parameters:
            containerId: $request.path.containerId
        commitContainer:
          operationId: commitContainer
          parameters:
            containerId: $request.path.containerId
        deleteContainer:
          operationId: deleteContainer
          parameters:
            containerId: $request.path.containerId
    ContainerWithDataset:
      description: >-
        Информация о запущенном Docker-контейнере (docker ps) с привязкой к
        датасету
      content:
        application/json:
          schema:
            allOf:
              - type: object
                description: Описание контейнера
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  image:
                    type: object
                    description: Краткое описание образа
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        description: хэш Docker образа/контейнера
                        example: 583407a61900
                      name:
                        type: string
                        example: library/ann
                      tag:
                        type: string
                        example: v1
                  command:
                    type: string
                    example: top
                  names:
                    type: string
                    example: ann
                  ports:
                    type: string
                    example: 8080/tcp
                  created_at:
                    type: string
                    example: '2023-12-26 15:00:00'
                  status:
                    type: string
                    example: Up 1 hour
              - type: object
                description: Описание контейнера с привязкой к датасету
                properties:
                  dataset_id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
    Containers:
      description: Список Docker-контейнеров (docker ps)
      content:
        application/json:
          schema:
            type: object
            description: Список контейнеров
            properties:
              pagination:
                type: object
                description: Настройки пагинации
                properties:
                  page:
                    type: integer
                    example: 1
                  pageSize:
                    type: integer
                    example: 15
                  totalItems:
                    type: integer
                    example: 33
                  totalPages:
                    type: integer
                    example: 6
              items:
                type: array
                items:
                  type: object
                  description: Описание контейнера
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: хэш Docker образа/контейнера
                      example: 583407a61900
                    image:
                      type: object
                      description: Краткое описание образа
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: хэш Docker образа/контейнера
                          example: 583407a61900
                        name:
                          type: string
                          example: library/ann
                        tag:
                          type: string
                          example: v1
                    command:
                      type: string
                      example: top
                    names:
                      type: string
                      example: ann
                    ports:
                      type: string
                      example: 8080/tcp
                    created_at:
                      type: string
                      example: '2023-12-26 15:00:00'
                    status:
                      type: string
                      example: Up 1 hour
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    ContainerState:
      description: Cостояние Docker-контейнера (docker stats)
      content:
        application/json:
          schema:
            type: object
            description: Описание состояния контейнера
            required:
              - id
            properties:
              id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              state:
                type: string
                example: running
                enum:
                  - created
                  - running
                  - restarting
                  - exited
                  - paused
                  - removing
                  - dead
              cpu:
                type: string
                example: 0.15%
              mem:
                type: string
                example: 0.25%
              mem_use:
                type: string
                example: 25MiB
              size:
                type: string
                example: 1.07 GB
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    ContainerMonitor:
      description: Мониторинг Docker-контейнера
      content:
        application/json:
          schema:
            type: object
            description: Список виджетов для мониторинга контейнера
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Описание виджета мониторинга
                  properties:
                    id:
                      type: string
                    title:
                      type: string
                    source:
                      type: string
                      description: ссылка на внешнее содержимое контейнера
                    content:
                      type: string
                      description: HTML содержимое контейнера, если не указан source
                    noResize:
                      type: boolean
                    x:
                      type: integer
                    'y':
                      type: integer
                    w:
                      type: integer
                    h:
                      type: integer
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    ContainersStates:
      description: Список состояний Docker-контейнеров (docker stats)
      content:
        application/json:
          schema:
            type: object
            description: Список состояний контейнеров
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Описание состояния контейнера
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: хэш Docker образа/контейнера
                      example: 583407a61900
                    state:
                      type: string
                      example: running
                      enum:
                        - created
                        - running
                        - restarting
                        - exited
                        - paused
                        - removing
                        - dead
                    cpu:
                      type: string
                      example: 0.15%
                    mem:
                      type: string
                      example: 0.25%
                    mem_use:
                      type: string
                      example: 25MiB
                    size:
                      type: string
                      example: 1.07 GB
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
    Notification:
      description: Уведомление
      content:
        application/json:
          schema:
            type: object
            description: Уведомление
            required:
              - id
            properties:
              id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              dt_event:
                type: string
                example: '2023-12-26 15:00:00'
              net:
                type: object
                description: Краткое описание ИНС
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: ИНС 123
              dataset:
                type: object
                description: Краткое описание датасета
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Датасет 1-1
                  type:
                    type: string
                    description: Тип датасета
                    example: initial
                    enum:
                      - initial
                      - frame
                      - subframe
                      - skeleton
              project:
                type: object
                description: Краткое описание проекта
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: UUID
                    example: 550e8400-e29b-41d4-a716-446655440001
                    format: uuid
                  name:
                    type: string
                    example: Проект 1
                  type:
                    type: string
                    description: Тип проекта
                    example: teach
                    enum:
                      - teach
                      - eval
              event_type:
                type: string
                description: Типы событий
                example: start
                enum:
                  - start
                  - error
                  - end
              msg:
                type: string
                example: Текст сообщения
              is_new:
                type: integer
                example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
      links:
        updateNotification:
          operationId: updateNotification
          parameters:
            containerId: $request.path.notificationId
    Notifications:
      description: Список уведомлений
      content:
        application/json:
          schema:
            type: object
            description: Список уведомлений
            properties:
              items:
                type: array
                items:
                  type: object
                  description: Уведомление
                  required:
                    - id
                  properties:
                    id:
                      type: string
                      description: UUID
                      example: 550e8400-e29b-41d4-a716-446655440001
                      format: uuid
                    dt_event:
                      type: string
                      example: '2023-12-26 15:00:00'
                    net:
                      type: object
                      description: Краткое описание ИНС
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: ИНС 123
                    dataset:
                      type: object
                      description: Краткое описание датасета
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Датасет 1-1
                        type:
                          type: string
                          description: Тип датасета
                          example: initial
                          enum:
                            - initial
                            - frame
                            - subframe
                            - skeleton
                    project:
                      type: object
                      description: Краткое описание проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        name:
                          type: string
                          example: Проект 1
                        type:
                          type: string
                          description: Тип проекта
                          example: teach
                          enum:
                            - teach
                            - eval
                    event_type:
                      type: string
                      description: Типы событий
                      example: start
                      enum:
                        - start
                        - error
                        - end
                    msg:
                      type: string
                      example: Текст сообщения
                    is_new:
                      type: integer
                      example: 1
      headers:
        X-CSRF-Token:
          required: true
          schema:
            type: string
            description: CSRF token
            example: yvthwsztyeQkAPzeQ5gHgTvlyxHfsAfE
  requestBodies:
    LoginParams:
      description: Параметры для входа в систему
      content:
        application/json:
          schema:
            type: object
            description: Параметры входа пользователя
            required:
              - login
              - password
            properties:
              login:
                type: string
                description: Логин пользователя
                example: user
              password:
                type: string
                description: Пароль пользователя
                example: password
        multipart/form-data:
          schema:
            type: object
            description: Параметры входа пользователя
            required:
              - login
              - password
            properties:
              login:
                type: string
                description: Логин пользователя
                example: user
              password:
                type: string
                description: Пароль пользователя
                example: password
    ProjectParams:
      description: Параметры проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения проекта
            required:
              - name
              - type
              - description
            properties:
              name:
                type: string
                example: Проект 1
              type:
                type: string
                description: Тип проекта
                example: teach
                enum:
                  - teach
                  - eval
              description:
                type: string
                example: Описание проекта 1
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения проекта
            required:
              - name
              - type
              - description
            properties:
              name:
                type: string
                example: Проект 1
              type:
                type: string
                description: Тип проекта
                example: teach
                enum:
                  - teach
                  - eval
              description:
                type: string
                example: Описание проекта 1
    DatasetParams:
      description: Параметры датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения датасета проекта
            required:
              - name
              - project_id
              - type
              - description
            properties:
              name:
                type: string
                example: Датасет 1-1
              project_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              type:
                type: string
                description: Тип датасета
                example: initial
                enum:
                  - initial
                  - frame
                  - subframe
                  - skeleton
              parent_id:
                description: UUID
                type: string
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              source:
                type: string
                example: ftp://dt1-1.datasets
              nn_original:
                description: UUID
                type: string
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание датасета 1-1
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения датасета проекта
            required:
              - name
              - project_id
              - type
              - description
            properties:
              name:
                type: string
                example: Датасет 1-1
              project_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              type:
                type: string
                description: Тип датасета
                example: initial
                enum:
                  - initial
                  - frame
                  - subframe
                  - skeleton
              parent_id:
                description: UUID
                type: string
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              source:
                type: string
                example: ftp://dt1-1.datasets
              nn_original:
                description: UUID
                type: string
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание датасета 1-1
    DatasetExportParams:
      description: Параметры экспорт датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры экспорт датасета проекта
            properties:
              target_dir:
                description: Путь сохранения файлов экспорта
                type: string
        multipart/form-data:
          schema:
            type: object
            description: Параметры экспорт датасета проекта
            properties:
              target_dir:
                description: Путь сохранения файлов экспорта
                type: string
    DatasetExportFiles:
      description: Список файлов экспорта
      content:
        application/json:
          schema:
            oneOf:
              - type: object
                description: Структура ответа процедуры экспорта
                properties:
                  files:
                    type: array
                    description: Список файлов экспорта
                    items:
                      type: object
                      description: Описатель файла экспорта
                      properties:
                        name:
                          description: Полное имя файла
                          type: string
                        chains_count:
                          description: количество цепочек
                          type: integer
                        markups_count:
                          description: количество примитивов
                          type: integer
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - type: object
                description: Структура ответа процедуры экспорта
                properties:
                  files:
                    type: array
                    description: Список файлов экспорта
                    items:
                      type: object
                      description: Описатель файла экспорта
                      properties:
                        name:
                          description: Полное имя файла
                          type: string
                        chains_count:
                          description: количество цепочек
                          type: integer
                        markups_count:
                          description: количество примитивов
                          type: integer
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
    DatasetImportParams:
      description: Параметры импорта датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры импорта датасета проекта
            required:
              - files
            properties:
              files:
                description: Массив файлов импорта
                type: array
                items:
                  type: string
                  description: Имя файла
        multipart/form-data:
          schema:
            type: object
            description: Параметры импорта датасета проекта
            required:
              - files
            properties:
              files:
                description: Массив файлов импорта
                type: array
                items:
                  type: string
                  description: Имя файла
    DatasetImportFiles:
      description: Список файлов импорта
      content:
        application/json:
          schema:
            oneOf:
              - type: object
                description: Структура ответа процедуры импорта
                properties:
                  files:
                    type: array
                    description: Список файлов импорта
                    items:
                      type: object
                      description: Описатель файла экспорта
                      properties:
                        name:
                          description: Полное имя файла
                          type: string
                        chains_count:
                          description: количество цепочек
                          type: integer
                        markups_count:
                          description: количество примитивов
                          type: integer
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - type: object
                description: Структура ответа процедуры импорта
                properties:
                  files:
                    type: array
                    description: Список файлов импорта
                    items:
                      type: object
                      description: Описатель файла экспорта
                      properties:
                        name:
                          description: Полное имя файла
                          type: string
                        chains_count:
                          description: количество цепочек
                          type: integer
                        markups_count:
                          description: количество примитивов
                          type: integer
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
    DatasetFilesUpload:
      description: Загружаемые файлы датасета проекта
      content:
        multipart/form-data:
          schema:
            type: object
            description: Загружаемые файлы
            properties:
              files:
                type: array
                items:
                  type: string
                  description: Двоичный файл
                  format: binary
    DatasetFileParams:
      description: Параметры файла датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры изменения файла датасета проекта
            properties:
              label:
                type: string
                example: Файл 1-1-1
              subset_type:
                type: string
                description: Поднабор, куда входит файл
                example: teach
                enum:
                  - teach
                  - test
                  - control
              thumbnail:
                type: string
                example: file111_thumb.jpg
              description:
                type: string
                example: Описание файла 1-1-1
        multipart/form-data:
          schema:
            type: object
            description: Параметры изменения файла датасета проекта
            properties:
              label:
                type: string
                example: Файл 1-1-1
              subset_type:
                type: string
                description: Поднабор, куда входит файл
                example: teach
                enum:
                  - teach
                  - test
                  - control
              thumbnail:
                type: string
                example: file111_thumb.jpg
              description:
                type: string
                example: Описание файла 1-1-1
    DatasetChainIds:
      description: Список ID цепочек примитивов датасетов проектов
      content:
        application/json:
          schema:
            type: array
            description: Список ID цепочек примитивов датасетов проектов
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
        multipart/form-data:
          schema:
            type: array
            description: Список ID цепочек примитивов датасетов проектов
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
    DatasetChainParams:
      description: Параметры цепочки примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры изменения цепочки примитивов датасета проекта
            required:
              - file_id
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Цепочка 1-1-1-1
              color:
                type: string
                example: ff0033aa
              origin:
                type: string
                description: Источник получения цепочки
                example: manual
                enum:
                  - manual
                  - auto
                  - adjusted
              description:
                type: string
                example: Описание цепочки 1-1-1-1
        multipart/form-data:
          schema:
            type: object
            description: Параметры изменения цепочки примитивов датасета проекта
            required:
              - file_id
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              name:
                type: string
                example: Цепочка 1-1-1-1
              color:
                type: string
                example: ff0033aa
              origin:
                type: string
                description: Источник получения цепочки
                example: manual
                enum:
                  - manual
                  - auto
                  - adjusted
              description:
                type: string
                example: Описание цепочки 1-1-1-1
    DatasetChainsRelevanceQuery:
      description: Параметры релевантного поиска в списке цепочек датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: >-
              Параметры поиска на релевантность в списке цепочек примитивов
              датасета
            properties:
              file_ids:
                description: Список ID файлов датасетов проектов
                type: array
                items:
                  type: string
                  description: UUID
                  example: 550e8400-e29b-41d4-a716-446655440001
                  format: uuid
              query_data:
                description: Изображение png, закодированное в base64
                type: string
                example: base64 encoded png image
        multipart/form-data:
          schema:
            type: object
            description: >-
              Параметры поиска на релевантность в списке цепочек примитивов
              датасета
            properties:
              file_ids:
                description: Список ID файлов датасетов проектов
                type: array
                items:
                  type: string
                  description: UUID
                  example: 550e8400-e29b-41d4-a716-446655440001
                  format: uuid
              query_data:
                description: Изображение png, закодированное в base64
                type: string
                example: base64 encoded png image
    DatasetRelevantChains:
      description: Список цепочек примитивов датасета проекта при релевантном поиске
      content:
        application/json:
          schema:
            oneOf:
              - type: object
                description: Список релевантных цепочек примитивов датасетов проектов
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      description: Описание релевантной цепочки примитивов датасета проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        file_id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        t_begin:
                          type: integer
                        t_end:
                          type: integer
                        relevance:
                          type: string
                          example: '0.346'
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - type: object
                description: Список релевантных цепочек примитивов датасетов проектов
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      description: Описание релевантной цепочки примитивов датасета проекта
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        file_id:
                          type: string
                          description: UUID
                          example: 550e8400-e29b-41d4-a716-446655440001
                          format: uuid
                        t_begin:
                          type: integer
                        t_end:
                          type: integer
                        relevance:
                          type: string
                          example: '0.346'
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
    DatasetChainUpdateParams:
      description: Параметры изменения цепочки примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры изменения цепочки примитивов датасета проекта
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              markups:
                type: object
                description: >-
                  Последовательность новых примитивов (имя свойства - временной
                  интервал, пример "1.00:5.45")
                additionalProperties:
                  type: object
                  description: >-
                    Последовательность примитивов ФРЕЙМ (имя свойства - момент
                    времени, пример "0.93")
                  additionalProperties:
                    oneOf:
                      - allOf:
                          - type: object
                            description: Примитив общий
                            properties:
                              vector:
                                type: string
                              is_stop:
                                type: integer
                                example: 1
                          - type: object
                            description: Примитив типа ФРЕЙМ
                            properties:
                              x:
                                type: number
                              'y':
                                type: number
                              width:
                                type: number
                              height:
                                type: number
                      - allOf:
                          - type: object
                            description: Примитив общий
                            properties:
                              vector:
                                type: string
                              is_stop:
                                type: integer
                                example: 1
                          - type: object
                            description: Примитив типа ГРАФ
                            properties:
                              nodes:
                                type: object
                                description: Именованный набор вершин графа
                                additionalProperties:
                                  type: object
                                  description: Описание вершины графа
                                  properties:
                                    x:
                                      type: number
                                    'y':
                                      type: number
                              edges:
                                type: object
                                description: Именованный набор ребер графа
                                additionalProperties:
                                  type: object
                                  description: Описание ребра графа
                                  properties:
                                    from:
                                      type: string
                                      description: Имя вершины
                                    to:
                                      type: string
                                      description: Имя вершины
                    discriminator:
                      propertyName: markupType
                      mapping:
                        rect: RectMarkup
                        graph: GraphMarkup
        multipart/form-data:
          schema:
            type: object
            description: Параметры изменения цепочки примитивов датасета проекта
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              markups:
                type: object
                description: >-
                  Последовательность новых примитивов (имя свойства - временной
                  интервал, пример "1.00:5.45")
                additionalProperties:
                  type: object
                  description: >-
                    Последовательность примитивов ФРЕЙМ (имя свойства - момент
                    времени, пример "0.93")
                  additionalProperties:
                    oneOf:
                      - allOf:
                          - type: object
                            description: Примитив общий
                            properties:
                              vector:
                                type: string
                              is_stop:
                                type: integer
                                example: 1
                          - type: object
                            description: Примитив типа ФРЕЙМ
                            properties:
                              x:
                                type: number
                              'y':
                                type: number
                              width:
                                type: number
                              height:
                                type: number
                      - allOf:
                          - type: object
                            description: Примитив общий
                            properties:
                              vector:
                                type: string
                              is_stop:
                                type: integer
                                example: 1
                          - type: object
                            description: Примитив типа ГРАФ
                            properties:
                              nodes:
                                type: object
                                description: Именованный набор вершин графа
                                additionalProperties:
                                  type: object
                                  description: Описание вершины графа
                                  properties:
                                    x:
                                      type: number
                                    'y':
                                      type: number
                              edges:
                                type: object
                                description: Именованный набор ребер графа
                                additionalProperties:
                                  type: object
                                  description: Описание ребра графа
                                  properties:
                                    from:
                                      type: string
                                      description: Имя вершины
                                    to:
                                      type: string
                                      description: Имя вершины
                    discriminator:
                      propertyName: markupType
                      mapping:
                        rect: RectMarkup
                        graph: GraphMarkup
    DatasetChainSplitParams:
      description: Параметры разделения цепочки примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры разделения цепочки примитивов датасета проекта
            required:
              - t_splits
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              t_splits:
                type: array
                description: моменты времени разделений исходной цепочки
                items:
                  type: integer
        multipart/form-data:
          schema:
            type: object
            description: Параметры разделения цепочки примитивов датасета проекта
            required:
              - t_splits
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              t_splits:
                type: array
                description: моменты времени разделений исходной цепочки
                items:
                  type: integer
    DatasetChainsJoinParams:
      description: Параметры связывания цепочек примитивов датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры связывания цепочек примитивов датасета проекта
            required:
              - chain_ids
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              chain_ids:
                description: Список ID цепочек примитивов датасетов проектов
                type: array
                items:
                  type: string
                  description: UUID
                  example: 550e8400-e29b-41d4-a716-446655440001
                  format: uuid
        multipart/form-data:
          schema:
            type: object
            description: Параметры связывания цепочек примитивов датасета проекта
            required:
              - chain_ids
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              chain_ids:
                description: Список ID цепочек примитивов датасетов проектов
                type: array
                items:
                  type: string
                  description: UUID
                  example: 550e8400-e29b-41d4-a716-446655440001
                  format: uuid
    DatasetMarkupParams:
      description: Параметры примитива датасета проекта
      content:
        application/json:
          schema:
            type: object
            description: Параметры изменения примитива датасета проекта
            required:
              - file_id
              - mark_time
              - mark_path
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              mark_time:
                type: integer
              mark_path:
                type: string
              is_stop:
                type: integer
                example: 0
              previous_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание примитива 1-1-1-1-1
              chain_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
        multipart/form-data:
          schema:
            type: object
            description: Параметры изменения примитива датасета проекта
            required:
              - file_id
              - mark_time
              - mark_path
            properties:
              file_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              mark_time:
                type: integer
              mark_path:
                type: string
              is_stop:
                type: integer
                example: 0
              previous_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
              description:
                type: string
                example: Описание примитива 1-1-1-1-1
              chain_id:
                type: string
                description: UUID
                example: 550e8400-e29b-41d4-a716-446655440001
                format: uuid
    DatasetMarkupIds:
      description: Последовательность ID примитивов
      content:
        application/json:
          schema:
            type: array
            description: Последовательность ID примитивов датасетов проектов
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
        multipart/form-data:
          schema:
            type: array
            description: Последовательность ID примитивов датасетов проектов
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
    AnnParams:
      description: Параметры ИНС
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения ИНС
            required:
              - name
              - docker_hash
              - weights
              - hyper_params
              - description
            properties:
              name:
                type: string
                example: ИНС 123
              docker_hash:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения ИНС
            required:
              - name
              - docker_hash
              - weights
              - hyper_params
              - description
            properties:
              name:
                type: string
                example: ИНС 123
              docker_hash:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                type: string
                example: ann111_weights.pkl
              hyper_params:
                type: integer
                example: ann111_params.pkl
              thumbnail:
                type: string
                example: ann111_thumb.jpg
              description:
                type: string
                example: Описание ИНС
    AnnSettings:
      description: Параметры ИНС
      content:
        application/json:
          schema:
            type: object
            description: Объект "ключ-значение"
            additionalProperties:
              type: string
        multipart/form-data:
          schema:
            type: object
            description: Объект "ключ-значение"
            additionalProperties:
              type: string
    AnnExportParams:
      description: Параметры экспорта ИНС
      content:
        application/json:
          schema:
            type: object
            description: Параметры экспорта ИНС
            required:
              - docker_type
            properties:
              image_id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                description: Путь к файлу весов
                example: /project/dataset/weights.pkl
                type: string
              export:
                description: Путь к файлу архива
                example: /project/export/ann.tar.gz
                type: string
        multipart/form-data:
          schema:
            type: object
            description: Параметры экспорта ИНС
            required:
              - docker_type
            properties:
              image_id:
                type: string
                description: хэш Docker образа/контейнера
                example: 583407a61900
              weights:
                description: Путь к файлу весов
                example: /project/dataset/weights.pkl
                type: string
              export:
                description: Путь к файлу архива
                example: /project/export/ann.tar.gz
                type: string
    UserIds:
      description: Список ID пользователей
      content:
        application/json:
          schema:
            type: array
            description: Список ID пользователей
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
        multipart/form-data:
          schema:
            type: array
            description: Список ID пользователей
            items:
              type: string
              description: UUID
              example: 550e8400-e29b-41d4-a716-446655440001
              format: uuid
    UserParams:
      description: Параметры пользователя
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания/изменения пользователя
            required:
              - name
              - login
              - role
              - description
            properties:
              name:
                type: string
                example: User
              login:
                type: string
                example: user
              password:
                type: string
                example: password
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              description:
                type: string
                example: user description
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания/изменения пользователя
            required:
              - name
              - login
              - role
              - description
            properties:
              name:
                type: string
                example: User
              login:
                type: string
                example: user
              password:
                type: string
                example: password
              role:
                type: string
                description: Роль пользователя
                example: manager
                enum:
                  - admin
                  - manager
                  - operator
              description:
                type: string
                example: user description
    ImageParams:
      description: Параметры для создания Docker-образа
      content:
        application/json:
          schema:
            type: object
            description: Параметры создания образа
            properties:
              repository:
                type: string
                description: Наименование образа в формате <путь/репозиторий>
                example: library/petrov_ann
              tag:
                type: string
                description: Тэг образа
                example: v1.3
              message:
                type: string
                description: Сообщение коммита
                example: teached by Petrov
        multipart/form-data:
          schema:
            type: object
            description: Параметры создания образа
            properties:
              repository:
                type: string
                description: Наименование образа в формате <путь/репозиторий>
                example: library/petrov_ann
              tag:
                type: string
                description: Тэг образа
                example: v1.3
              message:
                type: string
                description: Сообщение коммита
                example: teached by Petrov
    Container:
      description: Информация о Docker-контейнере (docker ps)
      content:
        application/json:
          schema:
            oneOf:
              - type: object
                description: Описание контейнера
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  image:
                    type: object
                    description: Краткое описание образа
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        description: хэш Docker образа/контейнера
                        example: 583407a61900
                      name:
                        type: string
                        example: library/ann
                      tag:
                        type: string
                        example: v1
                  command:
                    type: string
                    example: top
                  names:
                    type: string
                    example: ann
                  ports:
                    type: string
                    example: 8080/tcp
                  created_at:
                    type: string
                    example: '2023-12-26 15:00:00'
                  status:
                    type: string
                    example: Up 1 hour
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - type: object
                description: Описание контейнера
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: хэш Docker образа/контейнера
                    example: 583407a61900
                  image:
                    type: object
                    description: Краткое описание образа
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        description: хэш Docker образа/контейнера
                        example: 583407a61900
                      name:
                        type: string
                        example: library/ann
                      tag:
                        type: string
                        example: v1
                  command:
                    type: string
                    example: top
                  names:
                    type: string
                    example: ann
                  ports:
                    type: string
                    example: 8080/tcp
                  created_at:
                    type: string
                    example: '2023-12-26 15:00:00'
                  status:
                    type: string
                    example: Up 1 hour
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
    ContainerWithDataset:
      description: >-
        Информация о запущенном Docker-контейнере (docker ps) с привязкой к
        датасету
      content:
        application/json:
          schema:
            oneOf:
              - allOf:
                  - type: object
                    description: Описание контейнера
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        description: хэш Docker образа/контейнера
                        example: 583407a61900
                      image:
                        type: object
                        description: Краткое описание образа
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            description: хэш Docker образа/контейнера
                            example: 583407a61900
                          name:
                            type: string
                            example: library/ann
                          tag:
                            type: string
                            example: v1
                      command:
                        type: string
                        example: top
                      names:
                        type: string
                        example: ann
                      ports:
                        type: string
                        example: 8080/tcp
                      created_at:
                        type: string
                        example: '2023-12-26 15:00:00'
                      status:
                        type: string
                        example: Up 1 hour
                  - type: object
                    description: Описание контейнера с привязкой к датасету
                    properties:
                      dataset_id:
                        type: string
                        description: UUID
                        example: 550e8400-e29b-41d4-a716-446655440001
                        format: uuid
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - allOf:
                  - type: object
                    description: Описание контейнера
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        description: хэш Docker образа/контейнера
                        example: 583407a61900
                      image:
                        type: object
                        description: Краткое описание образа
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            description: хэш Docker образа/контейнера
                            example: 583407a61900
                          name:
                            type: string
                            example: library/ann
                          tag:
                            type: string
                            example: v1
                      command:
                        type: string
                        example: top
                      names:
                        type: string
                        example: ann
                      ports:
                        type: string
                        example: 8080/tcp
                      created_at:
                        type: string
                        example: '2023-12-26 15:00:00'
                      status:
                        type: string
                        example: Up 1 hour
                  - type: object
                    description: Описание контейнера с привязкой к датасету
                    properties:
                      dataset_id:
                        type: string
                        description: UUID
                        example: 550e8400-e29b-41d4-a716-446655440001
                        format: uuid
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
    ContainerParams:
      description: Параметры для создания Docker-контейнера
      content:
        application/json:
          schema:
            type: object
            description: параметры создания контейнера
            required:
              - weights
              - in_dir
              - out_dir
            properties:
              ann_mode:
                type: string
                description: Режим работы контейнера
                example: teach
                enum:
                  - teach
                  - eval
              name:
                type: string
                description: Наименование контейнера
                example: petrov_ann
              weights:
                type: string
                description: Путь к папке/файлу весовых коэффициентов
                example: /project/dataset/weights.pkl
              hyper_params:
                type: string
                description: Доп. параметры запуска контейнера ИНС (опционально)
                example: /project/dataset/hyper_params.pkl
              in_dir:
                type: string
                description: Путь к директории входных данных
                example: /project/dataset/in_dir
              out_dir:
                type: string
                description: Путь к директории выходных данных
                example: /project/dataset/out_dir
              markups:
                type: string
                description: Путь к директории с входной разметкой
                example: /project/dataset/markups
              video_storage:
                type: string
                description: Путь к хранилищу видеофайлов
                example: /video_storage
              network:
                type: string
                description: Имя сети, к которой подсоединить контейнер
                example: camino-net
        multipart/form-data:
          schema:
            type: object
            description: параметры создания контейнера
            required:
              - weights
              - in_dir
              - out_dir
            properties:
              ann_mode:
                type: string
                description: Режим работы контейнера
                example: teach
                enum:
                  - teach
                  - eval
              name:
                type: string
                description: Наименование контейнера
                example: petrov_ann
              weights:
                type: string
                description: Путь к папке/файлу весовых коэффициентов
                example: /project/dataset/weights.pkl
              hyper_params:
                type: string
                description: Доп. параметры запуска контейнера ИНС (опционально)
                example: /project/dataset/hyper_params.pkl
              in_dir:
                type: string
                description: Путь к директории входных данных
                example: /project/dataset/in_dir
              out_dir:
                type: string
                description: Путь к директории выходных данных
                example: /project/dataset/out_dir
              markups:
                type: string
                description: Путь к директории с входной разметкой
                example: /project/dataset/markups
              video_storage:
                type: string
                description: Путь к хранилищу видеофайлов
                example: /video_storage
              network:
                type: string
                description: Имя сети, к которой подсоединить контейнер
                example: camino-net
    StartEventParams:
      description: Параметры события начала обработки данных
      content:
        application/json:
          schema:
            type: object
            description: Сообщение начала обработки данных
            properties:
              msg:
                type: string
                description: текст сообщения
              details:
                type: object
                description: детали сообщения
                additionalProperties:
                  type: string
        multipart/form-data:
          schema:
            type: object
            description: Сообщение начала обработки данных
            properties:
              msg:
                type: string
                description: текст сообщения
              details:
                type: object
                description: детали сообщения
                additionalProperties:
                  type: string
    ProgressEventParams:
      description: Параметры события прогресса обработки данных
      content:
        application/json:
          schema:
            type: object
            description: Сообщение прогресса обработки данных
            properties:
              stage:
                type: string
                description: >-
                  номер этапа обработки и сколько всего этапов, например "1 из
                  3"
                example: 1 of 3
              progress:
                type: number
                description: процент выполнения обработки на данном этапе
                example: 35.6
              statistics:
                type: object
                description: объект статистических данных
                properties:
                  out_file:
                    type: string
                    description: имя выходного файла с разметкой (для импорта)
                    example: /out/markups_01.json
                  train_error:
                    type: number
                    description: ошибка на обучающих данных
                    example: 10.34
                  test_error:
                    type: number
                    description: ошибка на тестовых данных
                    example: 15.88
                  chains_count:
                    type: integer
                    description: количество цепочек
                    example: 305
                  markups_count:
                    type: integer
                    description: количество примитивов
                    example: 10054
        multipart/form-data:
          schema:
            type: object
            description: Сообщение прогресса обработки данных
            properties:
              stage:
                type: string
                description: >-
                  номер этапа обработки и сколько всего этапов, например "1 из
                  3"
                example: 1 of 3
              progress:
                type: number
                description: процент выполнения обработки на данном этапе
                example: 35.6
              statistics:
                type: object
                description: объект статистических данных
                properties:
                  out_file:
                    type: string
                    description: имя выходного файла с разметкой (для импорта)
                    example: /out/markups_01.json
                  train_error:
                    type: number
                    description: ошибка на обучающих данных
                    example: 10.34
                  test_error:
                    type: number
                    description: ошибка на тестовых данных
                    example: 15.88
                  chains_count:
                    type: integer
                    description: количество цепочек
                    example: 305
                  markups_count:
                    type: integer
                    description: количество примитивов
                    example: 10054
    ErrorEventParams:
      description: Параметры события ошибки обработки данных
      content:
        application/json:
          schema:
            type: object
            description: Сообщение ошибки обработки данных
            properties:
              msg:
                type: string
                description: текст сообщения ошибки
              details:
                type: object
                description: детали ошибки, например, имя ошибочного файла и т.д.
                additionalProperties:
                  type: string
        multipart/form-data:
          schema:
            type: object
            description: Сообщение ошибки обработки данных
            properties:
              msg:
                type: string
                description: текст сообщения ошибки
              details:
                type: object
                description: детали ошибки, например, имя ошибочного файла и т.д.
                additionalProperties:
                  type: string
    EndEventParams:
      description: Параметры события окончания обработки данных
      content:
        application/json:
          schema:
            type: object
            description: Сообщение окончания обработки данных
            properties:
              out_files:
                type: array
                items:
                  type: string
                  description: Имя выходного файла
              chains_count:
                type: array
                items:
                  type: integer
                  description: Количество цепочек по файлам
              markups_count:
                type: array
                items:
                  type: integer
                  description: Количество примитивов по файлам
        multipart/form-data:
          schema:
            type: object
            description: Сообщение окончания обработки данных
            properties:
              out_files:
                type: array
                items:
                  type: string
                  description: Имя выходного файла
              chains_count:
                type: array
                items:
                  type: integer
                  description: Количество цепочек по файлам
              markups_count:
                type: array
                items:
                  type: integer
                  description: Количество примитивов по файлам
    NullOrError:
      description: Результат выполнения асинхронного вызова
      content:
        application/json:
          schema:
            oneOf:
              - type: object
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
        multipart/form-data:
          schema:
            oneOf:
              - type: object
              - type: object
                description: Сообщение ошибки обработки данных
                properties:
                  msg:
                    type: string
                    description: текст сообщения ошибки
                  details:
                    type: object
                    description: детали ошибки, например, имя ошибочного файла и т.д.
                    additionalProperties:
                      type: string
  links:
    logoutUser:
      operationId: logout
    updateUser:
      operationId: updateUser
      parameters:
        userId: $request.path.userId
    deleteUser:
      operationId: deleteUser
      parameters:
        userId: $request.path.userId
    updateProject:
      operationId: updateProject
      parameters:
        projectId: $request.path.projectId
    deleteProject:
      operationId: deleteProject
      parameters:
        projectId: $request.path.projectId
    updateProjectDataset:
      operationId: updateProjectDataset
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
    deleteProjectDataset:
      operationId: deleteProjectDataset
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
    updateProjectDatasetFile:
      operationId: updateProjectDatasetFile
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        fileId: $request.path.fileId
    deleteProjectDatasetFile:
      operationId: deleteProjectDatasetFile
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        fileId: $request.path.fileId
    updateProjectDatasetChain:
      operationId: updateProjectDatasetChain
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        chainId: $request.path.chainId
    deleteProjectDatasetChain:
      operationId: deleteProjectDatasetChain
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        chainId: $request.path.chainId
    updateProjectDatasetMarkup:
      operationId: updateProjectDatasetMarkup
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        markupId: $request.path.markupId
    deleteProjectDatasetMarkup:
      operationId: deleteProjectDatasetMarkup
      parameters:
        projectId: $request.path.projectId
        datasetId: $request.path.datasetId
        markupId: $request.path.markupId
    updateAnn:
      operationId: updateAnn
      parameters:
        annId: $request.path.annId
    deleteAnn:
      operationId: deleteAnn
      parameters:
        annId: $request.path.annId
    pullImage:
      operationId: pullImage
      parameters:
        containerId: $request.path.imageId
    getImageHistory:
      operationId: getImageHistory
      parameters:
        containerId: $request.path.imageId
    createContainer:
      operationId: createContainer
      parameters:
        containerId: $request.path.imageId
    runContainer:
      operationId: runContainer
      parameters:
        containerId: $request.path.imageId
    pushImage:
      operationId: pushImage
      parameters:
        containerId: $request.path.imageId
    saveImage:
      operationId: saveImage
      parameters:
        containerId: $request.path.imageId
    downloadImage:
      operationId: downloadImage
      parameters:
        containerId: $request.path.imageId
    deleteImage:
      operationId: deleteImage
      parameters:
        containerId: $request.path.imageId
    getContainerState:
      operationId: getContainerState
      parameters:
        containerId: $request.path.containerId
    startContainer:
      operationId: startContainer
      parameters:
        containerId: $request.path.containerId
    stopContainer:
      operationId: stopContainer
      parameters:
        containerId: $request.path.containerId
    commitContainer:
      operationId: commitContainer
      parameters:
        containerId: $request.path.containerId
    deleteContainer:
      operationId: deleteContainer
      parameters:
        containerId: $request.path.containerId
    updateNotification:
      operationId: updateNotification
      parameters:
        containerId: $request.path.notificationId
